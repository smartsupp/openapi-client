{
    "openapi": "3.0.2",
    "info": {
        "title": "Smartsupp Core API",
        "version": "1.0.0"
    },
    "tags": [],
    "paths": {
        "/account": {
            "get": {
                "operationId": "get",
                "summary": "Get Account",
                "tags": [
                    "account"
                ],
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/account"
                                }
                            }
                        }
                    }
                }
            },
            "patch": {
                "operationId": "update",
                "summary": "Update Account",
                "tags": [
                    "account"
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "timezone": {
                                        "type": "string"
                                    },
                                    "history": {
                                        "$ref": "#/components/schemas/account_history_enum"
                                    },
                                    "anonymizeIp": {
                                        "type": "boolean"
                                    },
                                    "allowedDomains": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    },
                                    "mainDomain": {
                                        "type": "string"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/account"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/account/delete": {
            "post": {
                "operationId": "delete",
                "summary": "Delete Account",
                "tags": [
                    "account"
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "password": {
                                        "type": "string",
                                        "minLength": 6,
                                        "maxLength": 256
                                    },
                                    "dry": {
                                        "type": "boolean",
                                        "default": false
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "ok": {
                                            "type": "boolean"
                                        },
                                        "dry": {
                                            "type": "boolean"
                                        }
                                    },
                                    "required": [
                                        "ok",
                                        "dry"
                                    ]
                                }
                            }
                        }
                    }
                }
            }
        },
        "/agents": {
            "get": {
                "operationId": "list",
                "summary": "List Agents",
                "tags": [
                    "agents"
                ],
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/agent"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/agents/{id}": {
            "get": {
                "operationId": "get",
                "summary": "Get Agent",
                "tags": [
                    "agents"
                ],
                "parameters": [
                    {
                        "in": "path",
                        "name": "id",
                        "description": "Agent id",
                        "required": true,
                        "schema": {
                            "type": "number"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/agent"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Resource was not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error_payload"
                                },
                                "example": {
                                    "code": "not_found",
                                    "message": "Agent not found"
                                }
                            }
                        }
                    }
                }
            },
            "patch": {
                "operationId": "update",
                "summary": "Update Agent",
                "tags": [
                    "agents"
                ],
                "parameters": [
                    {
                        "in": "path",
                        "name": "id",
                        "description": "Agent id",
                        "required": true,
                        "schema": {
                            "type": "number"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "fullname": {
                                        "type": "string",
                                        "maxLength": 64
                                    },
                                    "description": {
                                        "type": "string",
                                        "maxLength": 64
                                    },
                                    "role": {
                                        "type": "string",
                                        "enum": [
                                            "agent",
                                            "admin"
                                        ]
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/agent"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Operation not allowed",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error_payload"
                                },
                                "examples": {
                                    "manage_not_allowed": {
                                        "summary": "Manage Not Allowed",
                                        "value": {
                                            "code": "not_allowed",
                                            "message": "Logged user is not allowed to manage settings."
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Resource was not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error_payload"
                                },
                                "example": {
                                    "code": "not_found",
                                    "message": "Agent not found"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "operationId": "delete",
                "summary": "Delete Agent",
                "tags": [
                    "agents"
                ],
                "parameters": [
                    {
                        "in": "path",
                        "name": "id",
                        "description": "Agent id",
                        "required": true,
                        "schema": {
                            "type": "number"
                        }
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Success response"
                    },
                    "403": {
                        "description": "Operation not allowed",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error_payload"
                                },
                                "examples": {
                                    "manage_not_allowed": {
                                        "summary": "Manage Not Allowed",
                                        "value": {
                                            "code": "not_allowed",
                                            "message": "Logged user is not allowed to manage settings."
                                        }
                                    },
                                    "delete_logged_user": {
                                        "summary": "Delete Logged User",
                                        "value": {
                                            "code": "not_allowed",
                                            "message": "Cant delete logged user"
                                        }
                                    },
                                    "delete_owner": {
                                        "summary": "Delete Owner",
                                        "value": {
                                            "code": "not_allowed",
                                            "message": "Owner cant be deleted"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Resource was not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error_payload"
                                },
                                "example": {
                                    "code": "not_found",
                                    "message": "Agent not found"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/agents/{id}/active": {
            "patch": {
                "operationId": "update_active",
                "summary": "Update Agent Active",
                "tags": [
                    "agents"
                ],
                "parameters": [
                    {
                        "in": "path",
                        "name": "id",
                        "description": "Agent id",
                        "required": true,
                        "schema": {
                            "type": "number"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "active": {
                                        "type": "boolean"
                                    }
                                },
                                "required": [
                                    "active"
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "active": {
                                            "type": "boolean"
                                        }
                                    },
                                    "required": [
                                        "active"
                                    ]
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Operation not allowed",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error_payload"
                                },
                                "examples": {
                                    "manage_not_allowed": {
                                        "summary": "Manage Not Allowed",
                                        "value": {
                                            "code": "not_allowed",
                                            "message": "Logged user is not allowed to manage settings."
                                        }
                                    },
                                    "no_enough_agents": {
                                        "summary": "No Enough Agents",
                                        "value": {
                                            "code": "not_allowed",
                                            "message": "Activate not allowed, not enough agents"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/consents/account": {
            "get": {
                "operationId": "get_account",
                "summary": "Get Account Consents",
                "tags": [
                    "consents"
                ],
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/consent"
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "operationId": "create_account",
                "summary": "Create Account Consent",
                "tags": [
                    "consents"
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/request_consent_create"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/consent"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/consents/user": {
            "get": {
                "operationId": "get_user",
                "summary": "Get User Consents",
                "tags": [
                    "consents"
                ],
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/consent"
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "operationId": "create_user",
                "summary": "Create User Consent",
                "tags": [
                    "consents"
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/request_consent_create"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/consent"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v2/contacts/{id}": {
            "get": {
                "operationId": "get",
                "summary": "Get Contact",
                "tags": [
                    "contacts"
                ],
                "parameters": [
                    {
                        "in": "path",
                        "name": "id",
                        "description": "Contact id",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/contact"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Resource was not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error_payload"
                                },
                                "example": {
                                    "code": "not_found",
                                    "message": "Contact not found"
                                }
                            }
                        }
                    }
                }
            },
            "patch": {
                "operationId": "update",
                "summary": "Update Contact",
                "tags": [
                    "contacts"
                ],
                "parameters": [
                    {
                        "in": "path",
                        "name": "id",
                        "description": "Contact id",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "nullable": true
                                    },
                                    "email": {
                                        "type": "string",
                                        "nullable": true
                                    },
                                    "phone": {
                                        "type": "string",
                                        "nullable": true
                                    },
                                    "note": {
                                        "type": "string",
                                        "nullable": true
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/contact"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Resource was not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error_payload"
                                },
                                "example": {
                                    "code": "not_found",
                                    "message": "Contact not found"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v2/contacts/{id}/ban": {
            "patch": {
                "operationId": "ban",
                "summary": "Ban Contact",
                "tags": [
                    "contacts"
                ],
                "parameters": [
                    {
                        "in": "path",
                        "name": "id",
                        "description": "Contact id",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/contact"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Resource was not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error_payload"
                                },
                                "example": {
                                    "code": "not_found",
                                    "message": "Contact not found"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v2/contacts/{id}/unban": {
            "patch": {
                "operationId": "unban",
                "summary": "Un-Ban Contact",
                "tags": [
                    "contacts"
                ],
                "parameters": [
                    {
                        "in": "path",
                        "name": "id",
                        "description": "Contact id",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/contact"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Resource was not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error_payload"
                                },
                                "example": {
                                    "code": "not_found",
                                    "message": "Contact not found"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v2/conversations/delete": {
            "post": {
                "operationId": "delete_many",
                "summary": "Delete many conversations",
                "tags": [
                    "conversations"
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "ids": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    }
                                },
                                "required": [
                                    "ids"
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "type": "object",
                                        "properties": {
                                            "id": {
                                                "type": "string"
                                            },
                                            "status": {
                                                "type": "number"
                                            },
                                            "data": {
                                                "type": "object",
                                                "properties": {
                                                    "code": {
                                                        "type": "string"
                                                    },
                                                    "message": {
                                                        "type": "string"
                                                    }
                                                }
                                            }
                                        },
                                        "required": [
                                            "id",
                                            "status"
                                        ]
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Resource was not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error_payload"
                                },
                                "example": {
                                    "code": "not_found",
                                    "message": "Conversation not found"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v2/conversations/search": {
            "post": {
                "operationId": "search",
                "summary": "Search Conversations",
                "tags": [
                    "conversations"
                ],
                "parameters": [
                    {
                        "in": "query",
                        "name": "contactDetails",
                        "description": "Export contact details",
                        "schema": {
                            "type": "boolean"
                        }
                    },
                    {
                        "in": "query",
                        "name": "visitorDetails",
                        "description": "Export visitor details",
                        "schema": {
                            "type": "boolean"
                        }
                    },
                    {
                        "in": "query",
                        "name": "lastMessage",
                        "description": "Export last messages",
                        "schema": {
                            "type": "boolean"
                        }
                    },
                    {
                        "in": "query",
                        "name": "unreadInfo",
                        "description": "Export unread info",
                        "schema": {
                            "type": "boolean"
                        }
                    },
                    {
                        "in": "query",
                        "name": "allowExtraSize",
                        "description": "Allow fetch more then 250 items",
                        "schema": {
                            "type": "boolean"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "timezone": {
                                        "type": "string",
                                        "default": ""
                                    },
                                    "size": {
                                        "type": "number",
                                        "default": 100
                                    },
                                    "after": {
                                        "type": "array",
                                        "nullable": true,
                                        "default": null,
                                        "items": {
                                            "type": "number"
                                        }
                                    },
                                    "sort": {
                                        "type": "array",
                                        "default": [
                                            {
                                                "createdAt": "desc"
                                            }
                                        ],
                                        "items": {
                                            "type": "object",
                                            "properties": {
                                                "createdAt": {
                                                    "type": "string",
                                                    "enum": [
                                                        "asc",
                                                        "desc"
                                                    ]
                                                },
                                                "finishedAt": {
                                                    "type": "string",
                                                    "enum": [
                                                        "asc",
                                                        "desc"
                                                    ]
                                                }
                                            }
                                        }
                                    },
                                    "filters": {
                                        "type": "object",
                                        "nullable": true,
                                        "default": null,
                                        "properties": {
                                            "query": {
                                                "type": "string"
                                            },
                                            "dateFrom": {
                                                "type": "string",
                                                "format": "date-time"
                                            },
                                            "dateTo": {
                                                "type": "string",
                                                "format": "date-time"
                                            },
                                            "pageUrl": {
                                                "type": "string"
                                            },
                                            "locIp": {
                                                "type": "string"
                                            },
                                            "contactId": {
                                                "type": "string"
                                            }
                                        }
                                    },
                                    "query": {
                                        "type": "array",
                                        "nullable": true,
                                        "default": null,
                                        "items": {
                                            "type": "object",
                                            "properties": {
                                                "field": {
                                                    "type": "string"
                                                },
                                                "value": {
                                                    "oneOf": [
                                                        {
                                                            "type": "number"
                                                        },
                                                        {
                                                            "type": "string"
                                                        },
                                                        {
                                                            "type": "boolean"
                                                        }
                                                    ]
                                                },
                                                "op": {
                                                    "type": "string",
                                                    "enum": [
                                                        "must",
                                                        "must_not"
                                                    ]
                                                }
                                            },
                                            "required": [
                                                "field",
                                                "value"
                                            ]
                                        }
                                    }
                                }
                            },
                            "examples": {
                                "opened": {
                                    "summary": "Search opened",
                                    "value": {
                                        "timezone": "Europe/Prague",
                                        "size": 250,
                                        "query": [
                                            {
                                                "field": "status",
                                                "value": "open"
                                            }
                                        ]
                                    }
                                },
                                "closed": {
                                    "summary": "Search closed",
                                    "value": {
                                        "timezone": "Europe/Prague",
                                        "size": 100,
                                        "query": [
                                            {
                                                "field": "status",
                                                "value": "closed"
                                            }
                                        ]
                                    }
                                },
                                "closed_by_date": {
                                    "summary": "Search closed by date",
                                    "value": {
                                        "timezone": "Europe/Prague",
                                        "size": 100,
                                        "query": [
                                            {
                                                "field": "status",
                                                "value": "closed"
                                            }
                                        ],
                                        "filters": {
                                            "dateFrom": "2020-12-28T00:00:00",
                                            "dateTo": "2021-01-03T23:59:59"
                                        }
                                    }
                                },
                                "closed_by_rating": {
                                    "summary": "Search closed by rating",
                                    "value": {
                                        "timezone": "Europe/Prague",
                                        "size": 100,
                                        "query": [
                                            {
                                                "field": "status",
                                                "value": "closed"
                                            },
                                            {
                                                "field": "ratingValue",
                                                "value": 5
                                            }
                                        ]
                                    }
                                },
                                "closed_by_agents": {
                                    "summary": "Search closed by agents",
                                    "value": {
                                        "timezone": "Europe/Prague",
                                        "size": 100,
                                        "query": [
                                            {
                                                "field": "status",
                                                "value": "closed"
                                            },
                                            {
                                                "field": "agentIds",
                                                "value": [
                                                    "6"
                                                ]
                                            }
                                        ]
                                    }
                                },
                                "closed_by_url": {
                                    "summary": "Search closed by url",
                                    "value": {
                                        "timezone": "Europe/Prague",
                                        "size": 100,
                                        "query": [
                                            {
                                                "field": "status",
                                                "value": "closed"
                                            }
                                        ],
                                        "filters": {
                                            "pageUrl": "smartsupp.com"
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "after": {
                                            "type": "array",
                                            "nullable": true,
                                            "items": {
                                                "type": "number",
                                                "example": 1609932655889
                                            }
                                        },
                                        "items": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/conversation"
                                            }
                                        },
                                        "total": {
                                            "type": "number",
                                            "example": 1
                                        }
                                    },
                                    "required": [
                                        "after",
                                        "items",
                                        "total"
                                    ]
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v2/conversations/{id}": {
            "get": {
                "operationId": "get",
                "summary": "Get Conversation",
                "tags": [
                    "conversations"
                ],
                "parameters": [
                    {
                        "in": "path",
                        "name": "id",
                        "description": "Conversation id",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "in": "query",
                        "name": "contactDetails",
                        "description": "Export contact details",
                        "schema": {
                            "type": "boolean"
                        }
                    },
                    {
                        "in": "query",
                        "name": "visitorDetails",
                        "description": "Export visitor details",
                        "schema": {
                            "type": "boolean"
                        }
                    },
                    {
                        "in": "query",
                        "name": "lastMessage",
                        "description": "Export last messages",
                        "schema": {
                            "type": "boolean"
                        }
                    },
                    {
                        "in": "query",
                        "name": "unreadInfo",
                        "description": "Export unread info",
                        "schema": {
                            "type": "boolean"
                        }
                    },
                    {
                        "in": "query",
                        "name": "readInfo",
                        "description": "Export read info",
                        "schema": {
                            "type": "boolean"
                        }
                    },
                    {
                        "in": "query",
                        "name": "paths",
                        "description": "Export last paths",
                        "schema": {
                            "type": "number",
                            "default": 0
                        }
                    },
                    {
                        "in": "query",
                        "name": "pathsOrder",
                        "description": "Paths order",
                        "schema": {
                            "type": "string",
                            "default": "desc",
                            "enum": [
                                "desc",
                                "asc"
                            ]
                        }
                    },
                    {
                        "in": "query",
                        "name": "messages",
                        "description": "Export last messages",
                        "schema": {
                            "type": "number",
                            "default": 0
                        }
                    },
                    {
                        "in": "query",
                        "name": "messagesOrder",
                        "description": "Messages order",
                        "schema": {
                            "type": "string",
                            "default": "desc",
                            "enum": [
                                "desc",
                                "asc"
                            ]
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/conversation"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Resource was not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error_payload"
                                },
                                "example": {
                                    "code": "not_found",
                                    "message": "Conversation not found"
                                }
                            }
                        }
                    }
                }
            },
            "patch": {
                "operationId": "update",
                "summary": "Update conversation",
                "tags": [
                    "conversations"
                ],
                "parameters": [
                    {
                        "in": "path",
                        "name": "id",
                        "description": "Conversation id",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "important": {
                                        "type": "boolean"
                                    },
                                    "tags": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/conversation"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Resource was not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error_payload"
                                },
                                "example": {
                                    "code": "not_found",
                                    "message": "Conversation not found"
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "operationId": "create_message",
                "summary": "Create message",
                "tags": [
                    "conversations"
                ],
                "parameters": [
                    {
                        "in": "path",
                        "name": "id",
                        "description": "Conversation id",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "type": {
                                        "type": "string",
                                        "enum": [
                                            "message",
                                            "note"
                                        ]
                                    },
                                    "channel": {
                                        "$ref": "#/components/schemas/channel"
                                    },
                                    "content": {
                                        "type": "object",
                                        "properties": {
                                            "type": {
                                                "type": "string",
                                                "enum": [
                                                    "text"
                                                ]
                                            },
                                            "text": {
                                                "type": "string",
                                                "nullable": true,
                                                "example": "Testing message"
                                            },
                                            "data": {
                                                "type": "object",
                                                "nullable": true,
                                                "default": null,
                                                "example": null
                                            }
                                        },
                                        "required": [
                                            "type",
                                            "text",
                                            "data"
                                        ]
                                    },
                                    "attachments": {
                                        "description": "List of upload tokens",
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    }
                                },
                                "required": [
                                    "type",
                                    "content"
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/message"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Resource was not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error_payload"
                                },
                                "example": {
                                    "code": "not_found",
                                    "message": "Conversation not found"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "operationId": "delete",
                "summary": "Delete Conversation",
                "tags": [
                    "conversations"
                ],
                "parameters": [
                    {
                        "in": "path",
                        "name": "id",
                        "description": "Conversation id",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Success response"
                    },
                    "404": {
                        "description": "Resource was not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error_payload"
                                },
                                "example": {
                                    "code": "not_found",
                                    "message": "Conversation not found"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v2/conversations/{id}/join": {
            "patch": {
                "operationId": "join",
                "summary": "Join Conversation",
                "tags": [
                    "conversations"
                ],
                "parameters": [
                    {
                        "in": "path",
                        "name": "id",
                        "description": "Conversation id",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "in": "query",
                        "name": "required",
                        "description": "Require join to conversation",
                        "schema": {
                            "type": "boolean"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "$ref": "#/components/responses/suc_ok"
                    },
                    "404": {
                        "description": "Resource was not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error_payload"
                                },
                                "example": {
                                    "code": "not_found",
                                    "message": "Conversation not found"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v2/conversations/{id}/leave": {
            "patch": {
                "operationId": "leave",
                "summary": "Leave Conversation",
                "tags": [
                    "conversations"
                ],
                "parameters": [
                    {
                        "in": "path",
                        "name": "id",
                        "description": "Conversation id",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "$ref": "#/components/responses/suc_ok"
                    },
                    "404": {
                        "description": "Resource was not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error_payload"
                                },
                                "example": {
                                    "code": "not_found",
                                    "message": "Conversation not found"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v2/conversations/{id}/assign": {
            "patch": {
                "operationId": "assign",
                "summary": "Assign agent to conversation",
                "tags": [
                    "conversations"
                ],
                "parameters": [
                    {
                        "in": "path",
                        "name": "id",
                        "description": "Conversation id",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "id": {
                                        "type": "string"
                                    }
                                },
                                "required": [
                                    "id"
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "$ref": "#/components/responses/suc_ok"
                    },
                    "404": {
                        "description": "Resource was not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error_payload"
                                },
                                "example": {
                                    "code": "not_found",
                                    "message": "Conversation not found"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v2/conversations/{id}/unassign": {
            "patch": {
                "operationId": "unassign",
                "summary": "Unassign agent from conversation",
                "tags": [
                    "conversations"
                ],
                "parameters": [
                    {
                        "in": "path",
                        "name": "id",
                        "description": "Conversation id",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "id": {
                                        "type": "string"
                                    }
                                },
                                "required": [
                                    "id"
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "$ref": "#/components/responses/suc_ok"
                    },
                    "404": {
                        "description": "Resource was not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error_payload"
                                },
                                "example": {
                                    "code": "not_found",
                                    "message": "Conversation not found"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v2/conversations/{id}/read": {
            "patch": {
                "operationId": "read",
                "summary": "Read Conversation",
                "tags": [
                    "conversations"
                ],
                "parameters": [
                    {
                        "in": "path",
                        "name": "id",
                        "description": "Conversation id",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "lastReadAt": {
                                            "type": "string",
                                            "format": "date-time"
                                        }
                                    },
                                    "required": [
                                        "lastReadAt"
                                    ]
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Resource was not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error_payload"
                                },
                                "example": {
                                    "code": "not_found",
                                    "message": "Conversation not found"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v2/conversations/{id}/close": {
            "patch": {
                "operationId": "close",
                "summary": "Close Conversation",
                "tags": [
                    "conversations"
                ],
                "parameters": [
                    {
                        "in": "path",
                        "name": "id",
                        "description": "Conversation id",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "$ref": "#/components/responses/suc_ok"
                    },
                    "404": {
                        "description": "Resource was not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error_payload"
                                },
                                "example": {
                                    "code": "not_found",
                                    "message": "Conversation not found"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v2/conversations/{id}/transcript": {
            "post": {
                "operationId": "transcript",
                "summary": "Send transcript to email",
                "tags": [
                    "conversations"
                ],
                "parameters": [
                    {
                        "in": "path",
                        "name": "id",
                        "description": "Conversation id",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "email": {
                                        "type": "string"
                                    },
                                    "lang": {
                                        "type": "string",
                                        "default": "en"
                                    }
                                },
                                "required": [
                                    "email"
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "$ref": "#/components/responses/suc_ok"
                    },
                    "404": {
                        "description": "Resource was not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error_payload"
                                },
                                "example": {
                                    "code": "not_found",
                                    "message": "Conversation not found"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v2/conversations/{id}/upload-init": {
            "post": {
                "operationId": "upload_init",
                "summary": "Init upload",
                "tags": [
                    "conversations"
                ],
                "parameters": [
                    {
                        "in": "path",
                        "name": "id",
                        "description": "Conversation id",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "type": {
                                        "type": "string",
                                        "enum": [
                                            "uploads",
                                            "attachments"
                                        ],
                                        "default": "uploads"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "url": {
                                            "type": "string",
                                            "example": "http://files.smartsupp.loc/upload/Z7d61XawM"
                                        },
                                        "token": {
                                            "type": "string",
                                            "example": "Z7d61XawM"
                                        }
                                    },
                                    "required": [
                                        "url",
                                        "token"
                                    ]
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Resource was not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error_payload"
                                },
                                "example": {
                                    "code": "not_found",
                                    "message": "Conversation not found"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v2/conversations/{id}/upload-finish": {
            "post": {
                "operationId": "upload_finish",
                "summary": "Finish upload",
                "tags": [
                    "conversations"
                ],
                "parameters": [
                    {
                        "in": "path",
                        "name": "id",
                        "description": "Conversation id",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "token": {
                                        "type": "string"
                                    },
                                    "channel": {
                                        "$ref": "#/components/schemas/channel"
                                    }
                                },
                                "required": [
                                    "token"
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/message"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Resource was not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error_payload"
                                },
                                "example": {
                                    "code": "not_found",
                                    "message": "Conversation not found"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v2/conversations/{id}/messages": {
            "get": {
                "operationId": "list_messages",
                "summary": "List conversation messages",
                "tags": [
                    "conversations"
                ],
                "parameters": [
                    {
                        "in": "path",
                        "name": "id",
                        "description": "Conversation id",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "in": "query",
                        "name": "size",
                        "schema": {
                            "type": "number",
                            "default": 50
                        }
                    },
                    {
                        "in": "query",
                        "name": "after",
                        "schema": {
                            "type": "number",
                            "nullable": true,
                            "default": null
                        }
                    },
                    {
                        "in": "query",
                        "name": "order",
                        "schema": {
                            "type": "string",
                            "enum": [
                                "asc",
                                "desc"
                            ],
                            "default": "desc"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "after": {
                                            "type": "number",
                                            "nullable": true,
                                            "example": 1609932655889
                                        },
                                        "items": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/message"
                                            }
                                        },
                                        "total": {
                                            "type": "number",
                                            "example": 1
                                        }
                                    },
                                    "required": [
                                        "after",
                                        "items",
                                        "total"
                                    ]
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Resource was not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error_payload"
                                },
                                "example": {
                                    "code": "not_found",
                                    "message": "Conversation not found"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v2/conversations/{id}/paths": {
            "get": {
                "operationId": "list_paths",
                "summary": "List conversation paths",
                "tags": [
                    "conversations"
                ],
                "parameters": [
                    {
                        "in": "path",
                        "name": "id",
                        "description": "Conversation id",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "in": "query",
                        "name": "size",
                        "schema": {
                            "type": "number",
                            "default": 50
                        }
                    },
                    {
                        "in": "query",
                        "name": "after",
                        "schema": {
                            "type": "number",
                            "nullable": true,
                            "default": null
                        }
                    },
                    {
                        "in": "query",
                        "name": "order",
                        "schema": {
                            "type": "string",
                            "enum": [
                                "asc",
                                "desc"
                            ],
                            "default": "desc"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "after": {
                                            "type": "number",
                                            "nullable": true,
                                            "example": 1609932655889
                                        },
                                        "items": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/path"
                                            }
                                        },
                                        "total": {
                                            "type": "number",
                                            "example": 1
                                        }
                                    },
                                    "required": [
                                        "after",
                                        "items",
                                        "total"
                                    ]
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Resource was not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error_payload"
                                },
                                "example": {
                                    "code": "not_found",
                                    "message": "Conversation not found"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/groups": {
            "get": {
                "operationId": "list",
                "summary": "List Groups",
                "tags": [
                    "groups"
                ],
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/group"
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "operationId": "create",
                "summary": "Create Group",
                "tags": [
                    "groups"
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "minLength": 1,
                                        "maxLength": 30
                                    },
                                    "agents": {
                                        "type": "array",
                                        "items": {
                                            "type": "number"
                                        }
                                    }
                                },
                                "required": [
                                    "name",
                                    "agents"
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/group"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/groups/{id}": {
            "get": {
                "operationId": "get",
                "summary": "Get Group",
                "tags": [
                    "groups"
                ],
                "parameters": [
                    {
                        "in": "path",
                        "name": "id",
                        "description": "Group id",
                        "required": true,
                        "schema": {
                            "type": "number"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/group"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Resource was not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error_payload"
                                },
                                "example": {
                                    "code": "not_found",
                                    "message": "Group not found"
                                }
                            }
                        }
                    }
                }
            },
            "patch": {
                "operationId": "update",
                "summary": "Update Group",
                "tags": [
                    "groups"
                ],
                "parameters": [
                    {
                        "in": "path",
                        "name": "id",
                        "description": "Group id",
                        "required": true,
                        "schema": {
                            "type": "number"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "minLength": 1,
                                        "maxLength": 30
                                    },
                                    "agents": {
                                        "type": "array",
                                        "items": {
                                            "type": "number"
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/group"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Resource was not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error_payload"
                                },
                                "example": {
                                    "code": "not_found",
                                    "message": "Group not found"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "operationId": "delete",
                "summary": "Delete Group",
                "tags": [
                    "groups"
                ],
                "parameters": [
                    {
                        "in": "path",
                        "name": "id",
                        "description": "Group id",
                        "required": true,
                        "schema": {
                            "type": "number"
                        }
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Success response"
                    },
                    "403": {
                        "description": "Operation not allowed",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error_payload"
                                },
                                "examples": {
                                    "manage_not_allowed": {
                                        "summary": "Manage Not Allowed",
                                        "value": {
                                            "code": "not_allowed",
                                            "message": "Logged user is not allowed to manage settings."
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Resource was not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error_payload"
                                },
                                "example": {
                                    "code": "not_found",
                                    "message": "Group not found"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/groups/batch": {
            "delete": {
                "operationId": "delete_batch",
                "summary": "Delete Groups",
                "tags": [
                    "groups"
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "array",
                                "items": {
                                    "type": "number"
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/batch_delete_item"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/invitations": {
            "post": {
                "operationId": "invite",
                "summary": "Invite agents",
                "tags": [
                    "invitations"
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "agents": {
                                        "type": "array",
                                        "items": {
                                            "type": "object",
                                            "properties": {
                                                "email": {
                                                    "type": "string",
                                                    "minLength": 5,
                                                    "maxLength": 96
                                                },
                                                "role": {
                                                    "default": "agent",
                                                    "allOf": [
                                                        {
                                                            "$ref": "#/components/schemas/agent_role_enum"
                                                        }
                                                    ]
                                                }
                                            },
                                            "required": [
                                                "email"
                                            ]
                                        }
                                    }
                                },
                                "required": [
                                    "agents"
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/invitation_info"
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Error response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error_payload"
                                },
                                "examples": {
                                    "invalid_recaptcha": {
                                        "summary": "Recaptcha Error",
                                        "value": {
                                            "code": "invalid_recaptcha",
                                            "message": "Invalid recaptcha token"
                                        }
                                    },
                                    "invite_errors": {
                                        "summary": "Invite Errors",
                                        "value": {
                                            "code": "invite_errors",
                                            "message": "Some invitations cannot be processed",
                                            "invitations": [
                                                {
                                                    "id": 1,
                                                    "email": "john.doe@gmail.com",
                                                    "status": "already_invited"
                                                }
                                            ]
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Error response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error_payload"
                                },
                                "examples": {
                                    "too_many_agents": {
                                        "summary": "Too Many Agents",
                                        "value": {
                                            "code": "too_many_agents",
                                            "message": "Operation not allowed"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "429": {
                        "description": "Too many requests"
                    }
                }
            }
        },
        "/invitations/notify": {
            "post": {
                "operationId": "notify",
                "summary": "Notify invited agents",
                "tags": [
                    "invitations"
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "ids": {
                                        "type": "array",
                                        "items": {
                                            "type": "number"
                                        }
                                    }
                                },
                                "required": [
                                    "ids"
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/invitation_info"
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Error response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error_payload"
                                },
                                "examples": {
                                    "invalid_recaptcha": {
                                        "summary": "Recaptcha Error",
                                        "value": {
                                            "code": "invalid_recaptcha",
                                            "message": "Invalid recaptcha token"
                                        }
                                    },
                                    "notify_errors": {
                                        "summary": "Notify Errors",
                                        "value": {
                                            "code": "notify_errors",
                                            "message": "Some invitations not found or notified too often.",
                                            "invitations": [
                                                {
                                                    "id": 44,
                                                    "status": "not_found",
                                                    "retryAfter": null
                                                },
                                                {
                                                    "id": 45,
                                                    "status": "spammed",
                                                    "retryAfter": "2021-01-08T12:07:21+01:00"
                                                },
                                                {
                                                    "id": 46,
                                                    "status": "ignored",
                                                    "retryAfter": null
                                                }
                                            ]
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "429": {
                        "description": "Too many requests"
                    }
                }
            }
        },
        "/invitations/cancel": {
            "post": {
                "operationId": "cancel",
                "summary": "Cancel invitations",
                "tags": [
                    "invitations"
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "ids": {
                                        "type": "array",
                                        "items": {
                                            "type": "number"
                                        }
                                    }
                                },
                                "required": [
                                    "ids"
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Success response"
                    },
                    "400": {
                        "description": "Error response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error_payload"
                                },
                                "examples": {
                                    "cancel_errors": {
                                        "summary": "Cancel Errors",
                                        "value": {
                                            "code": "cancel_errors",
                                            "message": "Some invitations were not found."
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/mail/{name}": {
            "post": {
                "operationId": "send",
                "summary": "Send email",
                "tags": [
                    "mail"
                ],
                "parameters": [
                    {
                        "in": "path",
                        "name": "name",
                        "description": "Name of email to send",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "chat-code-instructions"
                            ]
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "to": {
                                        "type": "string"
                                    },
                                    "lang": {
                                        "type": "string",
                                        "example": "en"
                                    }
                                },
                                "required": [
                                    "to",
                                    "lang"
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "204": {
                        "description": "Success response"
                    },
                    "400": {
                        "description": "Error response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error_payload"
                                },
                                "examples": {
                                    "invalid_recaptcha": {
                                        "summary": "Invalid Recaptcha",
                                        "value": {
                                            "code": "invalid_recaptcha",
                                            "message": "Invalid recaptcha token"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v2/metrics": {
            "post": {
                "operationId": "get",
                "summary": "Get Metric Data (single)",
                "tags": [
                    "metrics"
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "timezone": {
                                        "type": "string"
                                    },
                                    "name": {
                                        "$ref": "#/components/schemas/metric_name_enum"
                                    },
                                    "options": {
                                        "$ref": "#/components/schemas/metric_options"
                                    }
                                },
                                "required": [
                                    "name",
                                    "options"
                                ]
                            },
                            "example": {
                                "timezone": "Europe/Prague",
                                "name": "served_conversation",
                                "options": {
                                    "range": {
                                        "from": "2020-12-08T23:00:00.000Z",
                                        "to": "2021-01-07T22:59:59.999Z"
                                    },
                                    "aggs": [
                                        {
                                            "type": "date",
                                            "interval": "day",
                                            "format": "YYYY_MM_DD_w"
                                        }
                                    ]
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/metric"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v2/metrics/bulk": {
            "post": {
                "operationId": "get_many",
                "summary": "Get Metric Data (bulk)",
                "tags": [
                    "metrics"
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "timezone": {
                                        "type": "string"
                                    },
                                    "items": {
                                        "oneOf": [
                                            {
                                                "type": "object",
                                                "additionalProperties": {
                                                    "type": "object",
                                                    "properties": {
                                                        "name": {
                                                            "$ref": "#/components/schemas/metric_name_enum"
                                                        },
                                                        "options": {
                                                            "$ref": "#/components/schemas/metric_options"
                                                        }
                                                    }
                                                }
                                            },
                                            {
                                                "type": "array",
                                                "items": {
                                                    "type": "object",
                                                    "properties": {
                                                        "name": {
                                                            "$ref": "#/components/schemas/metric_name_enum"
                                                        },
                                                        "options": {
                                                            "$ref": "#/components/schemas/metric_options"
                                                        }
                                                    }
                                                }
                                            }
                                        ]
                                    }
                                },
                                "required": [
                                    "name",
                                    "options"
                                ]
                            },
                            "example": {
                                "timezone": "Europe/Prague",
                                "items": [
                                    {
                                        "name": "new_conversation",
                                        "options": {
                                            "range": {
                                                "from": "2020-12-08T23:00:00.000Z",
                                                "to": "2021-01-07T22:59:59.999Z"
                                            },
                                            "aggs": [
                                                {
                                                    "type": "date",
                                                    "interval": "day",
                                                    "format": "YYYY_MM_DD_w"
                                                }
                                            ]
                                        }
                                    },
                                    {
                                        "name": "served_conversation",
                                        "options": {
                                            "range": {
                                                "from": "2020-12-08T23:00:00.000Z",
                                                "to": "2021-01-07T22:59:59.999Z"
                                            },
                                            "aggs": [
                                                {
                                                    "type": "date",
                                                    "interval": "day",
                                                    "format": "YYYY_MM_DD_w"
                                                }
                                            ]
                                        }
                                    },
                                    {
                                        "name": "closed_conversation",
                                        "options": {
                                            "range": {
                                                "from": "2020-12-08T23:00:00.000Z",
                                                "to": "2021-01-07T22:59:59.999Z"
                                            },
                                            "aggs": [
                                                {
                                                    "type": "date",
                                                    "interval": "day",
                                                    "format": "YYYY_MM_DD_w"
                                                }
                                            ]
                                        }
                                    },
                                    {
                                        "name": "avg_first_response_time",
                                        "options": {
                                            "range": {
                                                "from": "2020-12-08T23:00:00.000Z",
                                                "to": "2021-01-07T22:59:59.999Z"
                                            },
                                            "aggs": [
                                                {
                                                    "type": "date",
                                                    "interval": "day",
                                                    "format": "YYYY_MM_DD_w"
                                                }
                                            ]
                                        }
                                    },
                                    {
                                        "name": "avg_time_to_close",
                                        "options": {
                                            "range": {
                                                "from": "2020-12-08T23:00:00.000Z",
                                                "to": "2021-01-07T22:59:59.999Z"
                                            },
                                            "aggs": [
                                                {
                                                    "type": "date",
                                                    "interval": "day",
                                                    "format": "YYYY_MM_DD_w"
                                                }
                                            ]
                                        }
                                    },
                                    {
                                        "name": "sum_time_to_close",
                                        "options": {
                                            "range": {
                                                "from": "2020-12-08T23:00:00.000Z",
                                                "to": "2021-01-07T22:59:59.999Z"
                                            },
                                            "aggs": [
                                                {
                                                    "type": "date",
                                                    "interval": "day",
                                                    "format": "YYYY_MM_DD_w"
                                                }
                                            ]
                                        }
                                    },
                                    {
                                        "name": "conversation_ratings",
                                        "options": {
                                            "range": {
                                                "from": "2020-12-08T23:00:00.000Z",
                                                "to": "2021-01-07T22:59:59.999Z"
                                            },
                                            "aggs": [
                                                {
                                                    "type": "date",
                                                    "interval": "day",
                                                    "format": "YYYY_MM_DD_w"
                                                }
                                            ]
                                        }
                                    }
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "oneOf": [
                                        {
                                            "type": "object",
                                            "additionalProperties": {
                                                "$ref": "#/components/schemas/metric"
                                            }
                                        },
                                        {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/metric"
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            }
        },
        "/mobile/config": {
            "get": {
                "operationId": "get_config",
                "summary": "Get Mobile Config",
                "tags": [
                    "mobile"
                ],
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "uploadImageMaxWidth": {
                                            "type": "number",
                                            "example": 2048
                                        },
                                        "uploadImageMaxHeight": {
                                            "type": "number",
                                            "example": 2048
                                        },
                                        "uploadImageCompression": {
                                            "type": "number",
                                            "example": 70
                                        },
                                        "uploadFileMaxSize": {
                                            "type": "number",
                                            "example": 20971520
                                        },
                                        "acceptedFileTypes": {
                                            "type": "array",
                                            "items": {
                                                "type": "string",
                                                "example": "image/png"
                                            }
                                        },
                                        "acceptedFileExtensions": {
                                            "type": "array",
                                            "items": {
                                                "type": "string",
                                                "example": "png"
                                            }
                                        }
                                    },
                                    "required": [
                                        "uploadImageMaxWidth",
                                        "uploadImageMaxHeight",
                                        "uploadImageCompression",
                                        "uploadFileMaxSize",
                                        "acceptedFileTypes",
                                        "acceptedFileExtensions"
                                    ]
                                }
                            }
                        }
                    }
                }
            }
        },
        "/notifications": {
            "get": {
                "operationId": "dashboard_get",
                "summary": "Get Dashboard Notifications",
                "tags": [
                    "notifications"
                ],
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/notifications"
                                }
                            }
                        }
                    }
                }
            },
            "patch": {
                "operationId": "dashboard_update",
                "summary": "Update Dashboard Notifications",
                "tags": [
                    "notifications"
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "enabled": {
                                        "type": "boolean",
                                        "example": true
                                    },
                                    "enabledOffline": {
                                        "type": "boolean",
                                        "example": true
                                    },
                                    "sounds": {
                                        "type": "object",
                                        "properties": {
                                            "message": {
                                                "$ref": "#/components/schemas/notifications_sound"
                                            },
                                            "notification": {
                                                "$ref": "#/components/schemas/notifications_sound"
                                            },
                                            "connected": {
                                                "$ref": "#/components/schemas/notifications_sound"
                                            },
                                            "disconnected": {
                                                "$ref": "#/components/schemas/notifications_sound"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/notifications"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/notifications/mobile": {
            "get": {
                "operationId": "mobile_get",
                "summary": "Get Mobile Notifications",
                "tags": [
                    "notifications"
                ],
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/notifications_mobile"
                                }
                            }
                        }
                    }
                }
            },
            "patch": {
                "operationId": "mobile_update",
                "summary": "Update Mobile Notifications",
                "tags": [
                    "notifications"
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "events": {
                                        "type": "object",
                                        "properties": {
                                            "incoming_visitor": {
                                                "$ref": "#/components/schemas/notifications_mobile_event"
                                            },
                                            "incoming_message": {
                                                "$ref": "#/components/schemas/notifications_mobile_event"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/notifications_mobile"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/officehours": {
            "get": {
                "operationId": "get",
                "summary": "Get Office-Hours",
                "tags": [
                    "officehours"
                ],
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/officehours"
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "operationId": "update",
                "summary": "Update Office-Hours",
                "tags": [
                    "officehours"
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "isActive": {
                                        "type": "boolean"
                                    },
                                    "config": {
                                        "type": "object",
                                        "properties": {
                                            "sunday": {
                                                "$ref": "#/components/schemas/officehours_day"
                                            },
                                            "monday": {
                                                "$ref": "#/components/schemas/officehours_day"
                                            },
                                            "tuesday": {
                                                "$ref": "#/components/schemas/officehours_day"
                                            },
                                            "wednesday": {
                                                "$ref": "#/components/schemas/officehours_day"
                                            },
                                            "thursday": {
                                                "$ref": "#/components/schemas/officehours_day"
                                            },
                                            "friday": {
                                                "$ref": "#/components/schemas/officehours_day"
                                            },
                                            "saturday": {
                                                "$ref": "#/components/schemas/officehours_day"
                                            }
                                        },
                                        "required": [
                                            "sunday",
                                            "monday",
                                            "tuesday",
                                            "wednesday",
                                            "thursday",
                                            "friday",
                                            "saturday"
                                        ]
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/officehours"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/onboarding": {
            "patch": {
                "operationId": "update",
                "summary": "Update Onboarding Step",
                "tags": [
                    "onboarding"
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "code": {
                                        "type": "string",
                                        "description": "Code of step to set as done.",
                                        "enum": [
                                            "design",
                                            "profile",
                                            "greeting",
                                            "install"
                                        ]
                                    }
                                },
                                "required": [
                                    "code"
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "type": "object",
                                        "properties": {
                                            "code": {
                                                "type": "string"
                                            },
                                            "doneAt": {
                                                "type": "string",
                                                "format": "date-time",
                                                "nullable": true
                                            }
                                        },
                                        "required": [
                                            "code",
                                            "doneAt"
                                        ]
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/product-news": {
            "get": {
                "operationId": "list",
                "summary": "List Product News",
                "tags": [
                    "product_news"
                ],
                "parameters": [
                    {
                        "in": "query",
                        "name": "lang",
                        "description": "Lang",
                        "schema": {
                            "type": "string",
                            "default": "en"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/product_new"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/product-news/confirm": {
            "post": {
                "operationId": "read",
                "summary": "Read Product News",
                "tags": [
                    "product_news"
                ],
                "responses": {
                    "200": {
                        "$ref": "#/components/responses/suc_ok"
                    }
                }
            }
        },
        "/restrictions": {
            "get": {
                "operationId": "list",
                "summary": "List Restrictions",
                "tags": [
                    "restrictions"
                ],
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/restriction"
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "operationId": "create",
                "summary": "Create Restriction",
                "tags": [
                    "restrictions"
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "type": {
                                        "$ref": "#/components/schemas/restriction_type_enum"
                                    },
                                    "value": {
                                        "type": "string",
                                        "maxLength": 64
                                    }
                                },
                                "required": [
                                    "type",
                                    "value"
                                ]
                            },
                            "example": {
                                "type": "ip",
                                "value": "185.140.28.246"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/restriction"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/restrictions/{id}": {
            "get": {
                "operationId": "get",
                "summary": "Get Restriction",
                "tags": [
                    "restrictions"
                ],
                "parameters": [
                    {
                        "in": "path",
                        "name": "id",
                        "description": "Restriction id",
                        "required": true,
                        "schema": {
                            "type": "number"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/restriction"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Resource was not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error_payload"
                                },
                                "example": {
                                    "code": "not_found",
                                    "message": "Restriction not found"
                                }
                            }
                        }
                    }
                }
            },
            "patch": {
                "operationId": "update",
                "summary": "Update Restriction",
                "tags": [
                    "restrictions"
                ],
                "parameters": [
                    {
                        "in": "path",
                        "name": "id",
                        "description": "Restriction id",
                        "required": true,
                        "schema": {
                            "type": "number"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "value": {
                                        "type": "string",
                                        "maxLength": 64
                                    }
                                },
                                "required": [
                                    "value"
                                ]
                            },
                            "example": {
                                "value": "185.140.28.246"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/restriction"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Resource was not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error_payload"
                                },
                                "example": {
                                    "code": "not_found",
                                    "message": "Restriction not found"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "operationId": "delete",
                "summary": "Delete Restriction",
                "tags": [
                    "restrictions"
                ],
                "parameters": [
                    {
                        "in": "path",
                        "name": "id",
                        "description": "Restriction id",
                        "required": true,
                        "schema": {
                            "type": "number"
                        }
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Success response"
                    },
                    "403": {
                        "description": "Operation not allowed",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error_payload"
                                },
                                "examples": {
                                    "manage_not_allowed": {
                                        "summary": "Manage Not Allowed",
                                        "value": {
                                            "code": "not_allowed",
                                            "message": "Logged user is not allowed to manage settings."
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Resource was not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error_payload"
                                },
                                "example": {
                                    "code": "not_found",
                                    "message": "Restriction not found"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/restrictions/batch": {
            "delete": {
                "operationId": "delete_batch",
                "summary": "Delete Restrictions",
                "tags": [
                    "restrictions"
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "array",
                                "items": {
                                    "type": "number"
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/batch_delete_item"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/shortcuts": {
            "get": {
                "operationId": "list",
                "summary": "List Shortcuts",
                "tags": [
                    "shortcuts"
                ],
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/shortcut"
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "operationId": "create",
                "summary": "Create Shortcut",
                "tags": [
                    "shortcuts"
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "type": {
                                        "description": "Shortcut type. Agents can't create team shortcuts.",
                                        "allOf": [
                                            {
                                                "$ref": "#/components/schemas/shortcut_type_enum"
                                            }
                                        ]
                                    },
                                    "name": {
                                        "description": "Shortcut name. Name must be unique per user or team shortcuts",
                                        "maxLength": 50,
                                        "type": "string"
                                    },
                                    "text": {
                                        "type": "string",
                                        "maxLength": 65535
                                    }
                                },
                                "required": [
                                    "name",
                                    "text"
                                ]
                            },
                            "example": {
                                "type": "personal",
                                "name": "wait",
                                "text": "I will look into it, give me a moment please"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/shortcut"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Operation not allowed",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error_payload"
                                },
                                "examples": {
                                    "feature_not_available": {
                                        "summary": "Feature Not Available",
                                        "value": {
                                            "code": "not_allowed",
                                            "message": "Team shortcut isn't available in package free"
                                        }
                                    },
                                    "manage_not_allowed": {
                                        "summary": "Manage Not Allowed",
                                        "value": {
                                            "code": "not_allowed",
                                            "message": "Logged user is not allowed to manage settings."
                                        }
                                    },
                                    "limit_reached": {
                                        "summary": "Limit Reached",
                                        "value": {
                                            "code": "not_allowed",
                                            "message": "User already has maximum number of shortcuts."
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/shortcuts/{id}": {
            "get": {
                "operationId": "get",
                "summary": "Get Shortcut",
                "tags": [
                    "shortcuts"
                ],
                "parameters": [
                    {
                        "in": "path",
                        "name": "id",
                        "description": "Shortcut id",
                        "required": true,
                        "schema": {
                            "type": "number"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/shortcut"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Resource was not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error_payload"
                                },
                                "example": {
                                    "code": "not_found",
                                    "message": "Shortcut not found"
                                }
                            }
                        }
                    }
                }
            },
            "patch": {
                "operationId": "update",
                "summary": "Update Shortcut",
                "tags": [
                    "shortcuts"
                ],
                "parameters": [
                    {
                        "in": "path",
                        "name": "id",
                        "description": "Shortcut id",
                        "required": true,
                        "schema": {
                            "type": "number"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "type": {
                                        "description": "Shortcut type. Agents can't change shortcut type.",
                                        "allOf": [
                                            {
                                                "$ref": "#/components/schemas/shortcut_type_enum"
                                            }
                                        ]
                                    },
                                    "name": {
                                        "description": "Shortcut name. Name must be unique per user or team shortcuts",
                                        "type": "string",
                                        "maxLength": 50
                                    },
                                    "text": {
                                        "description": "Shortcut text.",
                                        "type": "string",
                                        "maxLength": 65535
                                    }
                                }
                            },
                            "example": {
                                "type": "team",
                                "name": "wait",
                                "text": "I will look into it, give me a moment please"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/shortcut"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Operation not allowed",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error_payload"
                                },
                                "examples": {
                                    "agent_updating_type": {
                                        "summary": "Agent Updating Type",
                                        "value": {
                                            "code": "not_allowed",
                                            "message": "Agent can't change shortcut type"
                                        }
                                    },
                                    "feature_not_available": {
                                        "summary": "Feature Not Available",
                                        "value": {
                                            "code": "not_allowed",
                                            "message": "Team shortcut isn't available in package free"
                                        }
                                    },
                                    "manage_not_allowed": {
                                        "summary": "Manage Not Allowed",
                                        "value": {
                                            "code": "not_allowed",
                                            "message": "Logged user is not allowed to manage settings."
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Resource was not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error_payload"
                                },
                                "example": {
                                    "code": "not_found",
                                    "message": "Shortcut not found"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "operationId": "delete",
                "summary": "Delete Shortcut",
                "tags": [
                    "shortcuts"
                ],
                "parameters": [
                    {
                        "in": "path",
                        "name": "id",
                        "description": "Shortcut id",
                        "required": true,
                        "schema": {
                            "type": "number"
                        }
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Success response"
                    },
                    "403": {
                        "description": "Operation not allowed",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error_payload"
                                },
                                "examples": {
                                    "agent_delete_team_shortcut": {
                                        "summary": "Agent Delete Team Shortcut",
                                        "value": {
                                            "code": "not_allowed",
                                            "message": "Team shortcut can't be managed by agent"
                                        }
                                    },
                                    "manage_not_allowed": {
                                        "summary": "Manage Not Allowed",
                                        "value": {
                                            "code": "not_allowed",
                                            "message": "Logged user is not allowed to manage settings."
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Resource was not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error_payload"
                                },
                                "example": {
                                    "code": "not_found",
                                    "message": "Shortcut not found"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/shortcuts/batch": {
            "delete": {
                "operationId": "delete_batch",
                "summary": "Delete Shortcuts",
                "tags": [
                    "shortcuts"
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "array",
                                "items": {
                                    "type": "number"
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/batch_delete_item"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/survey/answer": {
            "post": {
                "operationId": "answer",
                "summary": "Add Survey Answer",
                "tags": [
                    "survey"
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "name": {
                                        "type": "object",
                                        "description": "Name of the survey",
                                        "properties": {
                                            "key": {
                                                "type": "string"
                                            },
                                            "text": {
                                                "type": "string"
                                            }
                                        }
                                    },
                                    "mainChoice": {
                                        "type": "object",
                                        "description": "Name of the selected main choice",
                                        "properties": {
                                            "key": {
                                                "type": "string"
                                            },
                                            "text": {
                                                "type": "string"
                                            }
                                        }
                                    },
                                    "subChoice": {
                                        "type": "object",
                                        "description": "Name of the selected sub choice",
                                        "properties": {
                                            "key": {
                                                "type": "string"
                                            },
                                            "text": {
                                                "type": "string"
                                            }
                                        }
                                    },
                                    "comment": {
                                        "type": "string",
                                        "description": "Comment for the selected choice"
                                    }
                                },
                                "required": [
                                    "name",
                                    "mainChoice"
                                ]
                            },
                            "example": {
                                "name": {
                                    "key": "unique_key_of_survey",
                                    "text": "Name of the survey"
                                },
                                "mainChoice": {
                                    "key": "A",
                                    "text": "Name of the selected main choice"
                                },
                                "subChoice": {
                                    "key": "A1",
                                    "text": "Name of the selected sub choice"
                                },
                                "comment": "Comment for the selected choice."
                            }
                        }
                    }
                },
                "responses": {
                    "204": {
                        "description": "Success response"
                    }
                }
            }
        },
        "/timezones": {
            "get": {
                "operationId": "list",
                "summary": "List Timezones",
                "tags": [
                    "timezones"
                ],
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/timezone"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/user": {
            "get": {
                "operationId": "get",
                "summary": "Get User",
                "tags": [
                    "user"
                ],
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/user"
                                }
                            }
                        }
                    }
                }
            },
            "patch": {
                "operationId": "update",
                "summary": "Update User",
                "tags": [
                    "user"
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "email": {
                                        "type": "string",
                                        "description": "Email of the user. Must be unique."
                                    },
                                    "fullname": {
                                        "type": "string",
                                        "description": "Fullname of the user."
                                    },
                                    "nickname": {
                                        "type": "string",
                                        "description": "Nickname of the user."
                                    },
                                    "password": {
                                        "type": "string",
                                        "description": "New password of the user. Minimum of 6 characters, max 256. If password is successfully changed, property named \"csrfToken\" will appear in the response. And client must include that token in upcoming requests.",
                                        "minLength": 6,
                                        "maxLength": 256
                                    },
                                    "passwordCurrent": {
                                        "type": "string",
                                        "description": "Current password of the user.",
                                        "minLength": 6,
                                        "maxLength": 256
                                    },
                                    "description": {
                                        "type": "string",
                                        "description": "Job position or personal motto, visible to visitors."
                                    },
                                    "avatar": {
                                        "type": "string",
                                        "description": "Avatar of the user. Base64 encoded image format."
                                    },
                                    "status": {
                                        "description": "Status of the user.",
                                        "allOf": [
                                            {
                                                "$ref": "#/components/schemas/agent_status_enum"
                                            }
                                        ]
                                    },
                                    "wizard": {
                                        "type": "object",
                                        "description": "Configuration for wizard.",
                                        "additionalProperties": true
                                    }
                                }
                            },
                            "example": {
                                "email": "tester@example.com",
                                "passwordCurrent": "oldsecretpassword",
                                "password": "newsecretpassword",
                                "fullname": "tester@example.com",
                                "nickname": "batman",
                                "avatar": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADcAAAA3CAYAAACo29JGAAAXy0lEQVRo3oWay48l2XHe",
                                "description": "some user motto",
                                "status": "online",
                                "wizard": {
                                    "wizardFinished": false
                                },
                                "boxes": {
                                    "showSomeBox": false
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/user"
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "csrfToken": {
                                                    "type": "string",
                                                    "description": "Exported when password is changed"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            }
        },
        "/user/stats": {
            "get": {
                "operationId": "get_stats",
                "summary": "Get User Stats",
                "tags": [
                    "user"
                ],
                "parameters": [
                    {
                        "in": "query",
                        "name": "timezone",
                        "description": "Timezone name. Default account timezone is used.",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "in": "query",
                        "name": "from",
                        "description": "Date From",
                        "schema": {
                            "type": "string",
                            "format": "date",
                            "example": "2018-11-03T00:00:00Z"
                        }
                    },
                    {
                        "in": "query",
                        "name": "to",
                        "description": "Date To",
                        "schema": {
                            "type": "string",
                            "example": "2018-11-03T23:59:59Z"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "title": "User Stats Response",
                                    "type": "object",
                                    "properties": {
                                        "count": {
                                            "type": "number"
                                        },
                                        "ratingAvg": {
                                            "type": "number"
                                        },
                                        "durationTimeAvg": {
                                            "type": "number"
                                        },
                                        "durationTimeSum": {
                                            "type": "number"
                                        },
                                        "responseTimeAvg": {
                                            "type": "number"
                                        },
                                        "firstResponseTimeAvg": {
                                            "type": "number"
                                        },
                                        "ratingSum": {
                                            "type": "number"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/user/unread-chats": {
            "get": {
                "operationId": "get_unread_chats",
                "summary": "Get User Unread Chats",
                "tags": [
                    "user"
                ],
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "title": "User Unread Chats Response",
                                    "type": "object",
                                    "properties": {
                                        "count": {
                                            "type": "number"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v2/visitors/search": {
            "post": {
                "operationId": "search",
                "summary": "Search Visitors",
                "tags": [
                    "visitors"
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "size": {
                                        "type": "number",
                                        "default": 100
                                    },
                                    "after": {
                                        "type": "number",
                                        "nullable": true
                                    },
                                    "filters": {
                                        "type": "object",
                                        "properties": {
                                            "status": {
                                                "type": "array",
                                                "items": {
                                                    "$ref": "#/components/schemas/visitor_status_enum"
                                                }
                                            },
                                            "banned": {
                                                "type": "boolean"
                                            },
                                            "customers": {
                                                "type": "boolean"
                                            }
                                        }
                                    },
                                    "query": {
                                        "type": "array",
                                        "items": {
                                            "type": "object",
                                            "properties": {
                                                "query": {
                                                    "type": "string"
                                                },
                                                "fields": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    }
                                                },
                                                "value": {
                                                    "oneOf": [
                                                        {
                                                            "type": "number"
                                                        },
                                                        {
                                                            "type": "string"
                                                        },
                                                        {
                                                            "type": "boolean"
                                                        }
                                                    ]
                                                },
                                                "op": {
                                                    "type": "string"
                                                }
                                            }
                                        }
                                    }
                                }
                            },
                            "examples": {
                                "active": {
                                    "summary": "Search Active",
                                    "value": {
                                        "size": 100,
                                        "after": null,
                                        "filters": {
                                            "status": [
                                                "active",
                                                "clicked",
                                                "served",
                                                "triggered",
                                                "unserved"
                                            ],
                                            "banned": false
                                        }
                                    }
                                },
                                "served": {
                                    "summary": "Search Served",
                                    "value": {
                                        "size": 100,
                                        "after": null,
                                        "filters": {
                                            "status": [
                                                "served"
                                            ],
                                            "banned": false
                                        }
                                    }
                                },
                                "banned": {
                                    "summary": "Search Banned",
                                    "value": {
                                        "size": 100,
                                        "after": null,
                                        "filters": {
                                            "banned": true
                                        }
                                    }
                                },
                                "customers": {
                                    "summary": "Search Customers",
                                    "value": {
                                        "size": 100,
                                        "after": null,
                                        "filters": {
                                            "customers": true,
                                            "banned": false
                                        }
                                    }
                                },
                                "triggered": {
                                    "summary": "Search Triggered",
                                    "value": {
                                        "size": 100,
                                        "after": null,
                                        "filters": {
                                            "status": [
                                                "triggered"
                                            ],
                                            "banned": false
                                        }
                                    }
                                },
                                "no_search": {
                                    "summary": "No Search",
                                    "value": {
                                        "size": 100,
                                        "after": null
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "after": {
                                            "type": "number",
                                            "example": -1
                                        },
                                        "items": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/visitor_simple"
                                            }
                                        },
                                        "total": {
                                            "type": "number",
                                            "example": 1
                                        },
                                        "counters": {
                                            "type": "object",
                                            "properties": {
                                                "filtered": {
                                                    "type": "number",
                                                    "example": 1
                                                },
                                                "searched": {
                                                    "type": "number",
                                                    "example": 1
                                                },
                                                "total": {
                                                    "type": "number",
                                                    "example": 1
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v2/visitors/{id}": {
            "get": {
                "operationId": "get",
                "summary": "Get Visitor",
                "tags": [
                    "visitors"
                ],
                "parameters": [
                    {
                        "in": "path",
                        "name": "id",
                        "description": "Visitor id",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/visitor"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Resource was not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/error_payload"
                                },
                                "example": {
                                    "code": "not_found",
                                    "message": "Visitor not found"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v2/visitors/{id}/chats": {
            "post": {
                "operationId": "start_chat",
                "summary": "Start Chat With Visitor",
                "tags": [
                    "visitors"
                ],
                "parameters": [
                    {
                        "in": "path",
                        "name": "id",
                        "description": "Visitor id",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "title": "Start Chat Response",
                                    "type": "object",
                                    "properties": {
                                        "id": {
                                            "type": "string"
                                        },
                                        "status": {
                                            "type": "string"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v2/visitors/{id}/identify": {
            "post": {
                "operationId": "identify",
                "summary": "Identify Visitor",
                "tags": [
                    "visitors"
                ],
                "parameters": [
                    {
                        "in": "path",
                        "name": "id",
                        "description": "Visitor id",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/contact"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v2/widget": {
            "get": {
                "operationId": "get",
                "summary": "Get Widget Config",
                "tags": [
                    "widget"
                ],
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/widget_config"
                                }
                            }
                        }
                    }
                }
            },
            "patch": {
                "operationId": "update",
                "summary": "Update Widget Config",
                "tags": [
                    "widget"
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "lang": {
                                        "type": "string",
                                        "example": "en"
                                    },
                                    "orientation": {
                                        "$ref": "#/components/schemas/widget_orientation_enum"
                                    },
                                    "ratingEnabled": {
                                        "type": "boolean"
                                    },
                                    "transcriptEnabled": {
                                        "type": "boolean"
                                    },
                                    "hideWidget": {
                                        "type": "boolean"
                                    },
                                    "hideOfflineChat": {
                                        "type": "boolean"
                                    },
                                    "requireLogin": {
                                        "type": "boolean"
                                    },
                                    "emailControl": {
                                        "type": "boolean"
                                    },
                                    "nameControl": {
                                        "type": "boolean"
                                    },
                                    "numberControl": {
                                        "type": "boolean"
                                    },
                                    "privacyNoticeEnabled": {
                                        "type": "boolean"
                                    },
                                    "privacyNoticeUrl": {
                                        "type": "string"
                                    },
                                    "privacyNoticeCheckRequired": {
                                        "type": "boolean"
                                    },
                                    "groupSelectEnabled": {
                                        "type": "boolean"
                                    },
                                    "color": {
                                        "type": "string",
                                        "example": "#1233df"
                                    },
                                    "buttonStyle": {
                                        "$ref": "#/components/schemas/widget_button_style_enum"
                                    },
                                    "translates": {
                                        "type": "object",
                                        "additionalProperties": true,
                                        "example": {
                                            "en": {
                                                "agentRating.all.placeholder": "Leave us feedback"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/widget_config"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v2/widget/{lang}/translates": {
            "get": {
                "operationId": "get_translates",
                "summary": "Get Widget Translates",
                "tags": [
                    "widget"
                ],
                "parameters": [
                    {
                        "in": "path",
                        "name": "lang",
                        "description": "Lang",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "minLength": 2,
                            "maxLength": 6,
                            "example": "en"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/widget_translates"
                                }
                            }
                        }
                    }
                }
            },
            "put": {
                "operationId": "update_translates",
                "summary": "Update Widget Translates",
                "tags": [
                    "widget"
                ],
                "parameters": [
                    {
                        "in": "path",
                        "name": "lang",
                        "description": "Lang",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "minLength": 2,
                            "maxLength": 6,
                            "example": "en"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/widget_translates"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/widget_translates"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v2/widget/languages": {
            "get": {
                "operationId": "get_languages",
                "summary": "Get Widget Languages",
                "tags": [
                    "widget"
                ],
                "responses": {
                    "200": {
                        "description": "Success response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/widget_language"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "components": {
        "parameters": {},
        "securitySchemes": {
            "cookieAuth": {
                "type": "apiKey",
                "in": "cookie",
                "name": "jwt_access_token"
            }
        },
        "schemas": {
            "account": {
                "title": "Account",
                "type": "object",
                "properties": {
                    "anonymizeIp": {
                        "type": "boolean"
                    },
                    "history": {
                        "$ref": "#/components/schemas/account_history_enum"
                    },
                    "timezone": {
                        "$ref": "#/components/schemas/timezone"
                    },
                    "allowedDomains": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "mainDomain": {
                        "type": "string"
                    }
                },
                "required": [
                    "anonymizeIp",
                    "history",
                    "timezone",
                    "allowedDomains",
                    "mainDomain"
                ]
            },
            "agent": {
                "title": "Agent",
                "type": "object",
                "properties": {
                    "id": {
                        "type": "number"
                    },
                    "active": {
                        "type": "boolean"
                    },
                    "role": {
                        "$ref": "#/components/schemas/agent_role_enum"
                    },
                    "email": {
                        "type": "string",
                        "format": "email"
                    },
                    "fullname": {
                        "type": "string"
                    },
                    "nickname": {
                        "type": "string"
                    },
                    "description": {
                        "type": "string",
                        "nullable": true
                    },
                    "avatar": {
                        "type": "string",
                        "nullable": true,
                        "format": "uri"
                    },
                    "lastLogin": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    },
                    "lastActivity": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    },
                    "deletedAt": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    }
                },
                "required": [
                    "id",
                    "active",
                    "role",
                    "email",
                    "fullname",
                    "nickname",
                    "description",
                    "avatar",
                    "lastLogin",
                    "lastActivity",
                    "deletedAt"
                ]
            },
            "attachment": {
                "title": "Attachment",
                "type": "object",
                "properties": {
                    "type": {
                        "$ref": "#/components/schemas/attachment_type_enum"
                    },
                    "fileName": {
                        "type": "string",
                        "example": "file_type_swagger_icon_130134.png"
                    },
                    "fileType": {
                        "type": "string",
                        "example": "image/png"
                    },
                    "expireAt": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true,
                        "example": null
                    },
                    "size": {
                        "type": "number",
                        "nullable": true,
                        "example": 26146
                    },
                    "width": {
                        "type": "number",
                        "nullable": true,
                        "example": 512
                    },
                    "height": {
                        "type": "number",
                        "nullable": true,
                        "example": 512
                    },
                    "thumb400": {
                        "nullable": true,
                        "allOf": [
                            {
                                "$ref": "#/components/schemas/attachment_thumb"
                            }
                        ]
                    }
                },
                "required": [
                    "type",
                    "fileName",
                    "fileType",
                    "expireAt",
                    "size",
                    "width",
                    "height"
                ]
            },
            "attachment_thumb": {
                "title": "Attachment Thumb",
                "type": "object",
                "properties": {
                    "url": {
                        "type": "string",
                        "example": "http://files.smartsupp.loc/files/accounts/5/uploads/yC11p4Q3a1_thumb400.jpg"
                    },
                    "expireAt": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "width": {
                        "type": "number",
                        "example": 400
                    },
                    "height": {
                        "type": "number",
                        "example": 400
                    }
                },
                "required": [
                    "url",
                    "expireAt",
                    "width",
                    "height"
                ]
            },
            "channel": {
                "title": "Channel",
                "type": "object",
                "properties": {
                    "type": {
                        "type": "string",
                        "enum": [
                            "default",
                            "email",
                            "facebook"
                        ]
                    },
                    "id": {
                        "type": "string",
                        "nullable": true,
                        "example": null
                    }
                },
                "required": [
                    "type",
                    "id"
                ]
            },
            "consent": {
                "title": "Consent",
                "type": "object",
                "properties": {
                    "type": {
                        "type": "string"
                    },
                    "agreed": {
                        "type": "boolean"
                    },
                    "confirmAt": {
                        "type": "string",
                        "format": "date-time"
                    }
                },
                "required": [
                    "type",
                    "agreed",
                    "confirmAt"
                ]
            },
            "contact": {
                "title": "Contact",
                "type": "object",
                "properties": {
                    "id": {
                        "type": "string",
                        "example": "ctDTWhIJxDn79"
                    },
                    "createdAt": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "updatedAt": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "identityId": {
                        "type": "string",
                        "nullable": true,
                        "example": null
                    },
                    "name": {
                        "type": "string",
                        "nullable": true,
                        "example": "John Doe"
                    },
                    "email": {
                        "type": "string",
                        "nullable": true,
                        "example": "john@smartsupp.com"
                    },
                    "phone": {
                        "type": "string",
                        "nullable": true,
                        "example": null
                    },
                    "note": {
                        "type": "string",
                        "nullable": true,
                        "example": null
                    },
                    "avatar": {
                        "$ref": "#/components/schemas/contact_avatar"
                    },
                    "bannedAt": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true,
                        "example": null
                    },
                    "bannedBy": {
                        "type": "string",
                        "nullable": true,
                        "example": null
                    },
                    "chatsCount": {
                        "type": "number",
                        "example": 1
                    },
                    "visitsCount": {
                        "type": "number",
                        "example": 93
                    },
                    "lastSeenAt": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    }
                },
                "required": [
                    "id",
                    "createdAt",
                    "updatedAt",
                    "identityId",
                    "name",
                    "email",
                    "phone",
                    "note",
                    "avatar",
                    "bannedAt",
                    "bannedBy",
                    "chatsCount",
                    "visitsCount",
                    "lastSeenAt"
                ]
            },
            "contact_avatar": {
                "title": "Contact Avatar",
                "type": "object",
                "properties": {
                    "color": {
                        "type": "object",
                        "properties": {
                            "text": {
                                "type": "string",
                                "example": "8961af"
                            },
                            "bg": {
                                "type": "string",
                                "example": "ead3fd"
                            }
                        },
                        "required": [
                            "text",
                            "bg"
                        ]
                    },
                    "initials": {
                        "type": "string",
                        "example": "JD"
                    }
                },
                "required": [
                    "color",
                    "initials"
                ]
            },
            "contact_details": {
                "title": "Contact Details",
                "type": "object",
                "properties": {
                    "name": {
                        "type": "string",
                        "nullable": true,
                        "example": "John Doe"
                    },
                    "email": {
                        "type": "string",
                        "nullable": true,
                        "example": "john@smartsupp.com"
                    },
                    "phone": {
                        "type": "string",
                        "nullable": true,
                        "example": null
                    },
                    "note": {
                        "type": "string",
                        "nullable": true,
                        "example": null
                    },
                    "avatar": {
                        "$ref": "#/components/schemas/contact_avatar"
                    }
                },
                "required": [
                    "name",
                    "email",
                    "phone",
                    "note",
                    "avatar"
                ]
            },
            "conversation": {
                "title": "Conversation",
                "type": "object",
                "properties": {
                    "id": {
                        "type": "string",
                        "example": "cod1L4y1Gtxq"
                    },
                    "type": {
                        "type": "string",
                        "enum": [
                            "chat"
                        ]
                    },
                    "status": {
                        "$ref": "#/components/schemas/conversation_status_enum"
                    },
                    "channel": {
                        "$ref": "#/components/schemas/channel"
                    },
                    "contactId": {
                        "type": "string",
                        "example": "ctDTWhIJxDn79"
                    },
                    "visitorId": {
                        "type": "string",
                        "nullable": true,
                        "example": "viAm4tpZY1dil"
                    },
                    "createdAt": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "updatedAt": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "finishedAt": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true,
                        "example": null
                    },
                    "agentIds": {
                        "type": "array",
                        "items": {
                            "type": "string",
                            "example": "23144"
                        }
                    },
                    "assignedIds": {
                        "type": "array",
                        "items": {
                            "type": "string",
                            "example": "23144"
                        }
                    },
                    "groupId": {
                        "type": "string",
                        "nullable": true,
                        "example": null
                    },
                    "locIp": {
                        "type": "string",
                        "nullable": true,
                        "example": "127.0.0.1"
                    },
                    "locCity": {
                        "type": "string",
                        "nullable": true,
                        "example": "Brno"
                    },
                    "locCode": {
                        "type": "string",
                        "nullable": true,
                        "example": "cz"
                    },
                    "locCountry": {
                        "type": "string",
                        "nullable": true,
                        "example": "Czechia"
                    },
                    "rating": {
                        "nullable": true,
                        "allOf": [
                            {
                                "$ref": "#/components/schemas/conversation_rating"
                            }
                        ]
                    },
                    "referer": {
                        "type": "string",
                        "nullable": true,
                        "example": ""
                    },
                    "domain": {
                        "type": "string",
                        "nullable": true,
                        "example": "www.smartsupp.com"
                    },
                    "userAgent": {
                        "type": "string",
                        "nullable": true,
                        "example": "Mozilla/5.0 (Macintosh; Intel Mac OS X 11_1_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.88 Safari/537.36"
                    },
                    "tags": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "variables": {
                        "type": "object",
                        "additionalProperties": true,
                        "nullable": true
                    },
                    "important": {
                        "type": "boolean"
                    },
                    "isClosed": {
                        "type": "boolean"
                    },
                    "isOffline": {
                        "type": "boolean"
                    },
                    "isServed": {
                        "type": "boolean"
                    },
                    "lastMessage": {
                        "description": "available only when requested",
                        "allOf": [
                            {
                                "$ref": "#/components/schemas/message"
                            }
                        ]
                    },
                    "unreadInfo": {
                        "description": "available only when requested",
                        "allOf": [
                            {
                                "$ref": "#/components/schemas/conversation_unread_info"
                            }
                        ]
                    },
                    "readInfo": {
                        "description": "available only when requested",
                        "allOf": [
                            {
                                "$ref": "#/components/schemas/conversation_read_info"
                            }
                        ]
                    },
                    "visitorDetails": {
                        "description": "available only when requested",
                        "allOf": [
                            {
                                "$ref": "#/components/schemas/visitor_details"
                            }
                        ]
                    },
                    "contactDetails": {
                        "description": "available only when requested",
                        "allOf": [
                            {
                                "$ref": "#/components/schemas/contact_details"
                            }
                        ]
                    },
                    "messages": {
                        "description": "available only when requested",
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/message"
                        }
                    },
                    "paths": {
                        "description": "available only when requested",
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/path"
                        }
                    }
                },
                "required": [
                    "id",
                    "type",
                    "status",
                    "channel",
                    "contactId",
                    "visitorId",
                    "createdAt",
                    "updatedAt",
                    "finishedAt",
                    "agentIds",
                    "assignedIds",
                    "groupId",
                    "locIp",
                    "locCity",
                    "locCode",
                    "locCountry",
                    "rating",
                    "referer",
                    "domain",
                    "userAgent",
                    "tags",
                    "variables",
                    "important",
                    "isClosed",
                    "isOffline",
                    "isServed"
                ]
            },
            "conversation_rating": {
                "title": "Conversation Rating",
                "type": "object",
                "properties": {
                    "value": {
                        "type": "number",
                        "enum": [
                            1,
                            3,
                            5
                        ],
                        "example": 5,
                        "description": "5 is best, 1 worst"
                    },
                    "text": {
                        "type": "string",
                        "nullable": true,
                        "example": "Your are awesome",
                        "description": "Optional rating text"
                    }
                },
                "required": [
                    "value",
                    "text"
                ]
            },
            "conversation_read_info": {
                "title": "Conversation Read Info",
                "type": "object",
                "properties": {
                    "type": {
                        "type": "string",
                        "enum": [
                            "agent",
                            "contact"
                        ]
                    },
                    "lastReadAt": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    }
                },
                "required": [
                    "type",
                    "lastReadAt"
                ]
            },
            "conversation_unread_info": {
                "title": "Conversation Unread Info",
                "type": "object",
                "properties": {
                    "type": {
                        "type": "string",
                        "enum": [
                            "agent",
                            "contact"
                        ]
                    },
                    "count": {
                        "type": "number",
                        "example": 1
                    },
                    "lastReadAt": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    }
                },
                "required": [
                    "type",
                    "count",
                    "lastReadAt"
                ]
            },
            "group": {
                "title": "Group",
                "type": "object",
                "properties": {
                    "id": {
                        "type": "number"
                    },
                    "key": {
                        "type": "string"
                    },
                    "name": {
                        "type": "string"
                    },
                    "agents": {
                        "type": "array",
                        "items": {
                            "type": "number"
                        }
                    }
                },
                "required": [
                    "id",
                    "key",
                    "name",
                    "agents"
                ]
            },
            "invitation_info": {
                "title": "Invitation Info",
                "type": "object",
                "properties": {
                    "id": {
                        "type": "number"
                    },
                    "email": {
                        "type": "string"
                    },
                    "role": {
                        "$ref": "#/components/schemas/agent_role_enum"
                    },
                    "validThrough": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "retryAfter": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    }
                },
                "required": [
                    "id",
                    "email",
                    "role",
                    "validThrough",
                    "retryAfter"
                ]
            },
            "message": {
                "title": "Message",
                "type": "object",
                "properties": {
                    "id": {
                        "type": "string",
                        "example": "msd1L4y1Gtxq"
                    },
                    "type": {
                        "$ref": "#/components/schemas/message_type_enum"
                    },
                    "sub_type": {
                        "$ref": "#/components/schemas/message_sub_type_enum"
                    },
                    "channel": {
                        "$ref": "#/components/schemas/channel"
                    },
                    "chatId": {
                        "type": "string",
                        "example": "cod1L4y1Gtxq"
                    },
                    "groupId": {
                        "type": "string",
                        "nullable": true,
                        "example": null
                    },
                    "agentId": {
                        "type": "string",
                        "nullable": true,
                        "example": "34556"
                    },
                    "visitorId": {
                        "type": "string",
                        "nullable": true,
                        "example": "viAm4tpZY1dil"
                    },
                    "createdAt": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "content": {
                        "type": "object",
                        "properties": {
                            "type": {
                                "type": "string",
                                "example": "text"
                            },
                            "text": {
                                "type": "string",
                                "nullable": true,
                                "example": "Hello, can you help me with order process?"
                            },
                            "data": {
                                "nullable": true,
                                "anyOf": [
                                    {
                                        "$ref": "#/components/schemas/attachment"
                                    },
                                    {
                                        "type": "object",
                                        "additionalProperties": true
                                    }
                                ],
                                "example": null
                            }
                        }
                    },
                    "trigger": {
                        "nullable": true,
                        "allOf": [
                            {
                                "type": "object",
                                "properties": {
                                    "id": {
                                        "type": "string"
                                    },
                                    "name": {
                                        "type": "string"
                                    }
                                },
                                "required": [
                                    "id",
                                    "name"
                                ]
                            }
                        ]
                    },
                    "responseTime": {
                        "type": "number",
                        "nullable": true,
                        "example": null
                    },
                    "deliveryTo": {
                        "type": "string",
                        "nullable": true,
                        "example": null
                    },
                    "deliveryStatus": {
                        "type": "string",
                        "nullable": true,
                        "example": null
                    },
                    "deliveryFailReason": {
                        "type": "string",
                        "nullable": true,
                        "example": null
                    },
                    "deliveredAt": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true,
                        "example": null
                    },
                    "attachments": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/attachment"
                        }
                    }
                },
                "required": [
                    "id",
                    "type",
                    "sub_type",
                    "channel",
                    "chatId",
                    "groupId",
                    "agentId",
                    "visitorId",
                    "createdAt",
                    "content",
                    "trigger",
                    "responseTime",
                    "deliveryTo",
                    "deliveryStatus",
                    "deliveryFailReason",
                    "deliveredAt",
                    "attachments"
                ]
            },
            "metric": {
                "title": "Metric",
                "type": "object",
                "properties": {
                    "count": {
                        "type": "number"
                    },
                    "value": {
                        "type": "number"
                    },
                    "buckets": {
                        "type": "array",
                        "nullable": true,
                        "items": {
                            "type": "object",
                            "properties": {
                                "key": {
                                    "type": "string"
                                },
                                "count": {
                                    "type": "number"
                                },
                                "value": {
                                    "type": "number"
                                }
                            },
                            "required": [
                                "key",
                                "count",
                                "value"
                            ]
                        }
                    }
                },
                "required": [
                    "count",
                    "value",
                    "buckets"
                ]
            },
            "metric_aggregation": {
                "title": "Metric Aggregation",
                "type": "object",
                "properties": {
                    "type": {
                        "type": "string",
                        "enum": [
                            "date",
                            "terms"
                        ]
                    },
                    "field": {
                        "type": "string"
                    },
                    "interval": {
                        "type": "string",
                        "enum": [
                            "day",
                            "week",
                            "month",
                            "year",
                            "day_of_week",
                            "hour_of_day"
                        ]
                    },
                    "format": {
                        "type": "string",
                        "description": "Moment.js format, eg: YYYY_DDD"
                    }
                },
                "required": [
                    "type"
                ]
            },
            "metric_options": {
                "title": "Metric Options",
                "type": "object",
                "properties": {
                    "timezone": {
                        "type": "string"
                    },
                    "range": {
                        "$ref": "#/components/schemas/metric_range"
                    },
                    "query": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/metric_query"
                        }
                    },
                    "aggs": {
                        "type": "array",
                        "maximum": 3,
                        "items": {
                            "$ref": "#/components/schemas/metric_aggregation"
                        }
                    }
                },
                "required": [
                    "range"
                ]
            },
            "metric_query": {
                "title": "Metric Query",
                "type": "object",
                "properties": {
                    "field": {
                        "type": "string"
                    },
                    "value": {
                        "oneOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "number"
                            },
                            {
                                "type": "boolean"
                            },
                            {
                                "type": "array",
                                "items": {
                                    "oneOf": [
                                        {
                                            "type": "string"
                                        },
                                        {
                                            "type": "number"
                                        },
                                        {
                                            "type": "boolean"
                                        }
                                    ]
                                }
                            }
                        ]
                    }
                },
                "required": [
                    "field",
                    "value"
                ]
            },
            "metric_range": {
                "title": "Metric Range",
                "type": "object",
                "properties": {
                    "from": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    },
                    "to": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    }
                },
                "required": [
                    "from",
                    "to"
                ]
            },
            "notifications": {
                "title": "Notifications Dashboard",
                "type": "object",
                "properties": {
                    "enabled": {
                        "type": "boolean",
                        "example": true
                    },
                    "enabledOffline": {
                        "type": "boolean",
                        "example": true
                    },
                    "sounds": {
                        "type": "object",
                        "properties": {
                            "message": {
                                "$ref": "#/components/schemas/notifications_sound"
                            },
                            "notification": {
                                "$ref": "#/components/schemas/notifications_sound"
                            },
                            "connected": {
                                "$ref": "#/components/schemas/notifications_sound"
                            },
                            "disconnected": {
                                "$ref": "#/components/schemas/notifications_sound"
                            }
                        },
                        "required": [
                            "message",
                            "notification",
                            "connected",
                            "disconnected"
                        ]
                    }
                },
                "required": [
                    "enabled",
                    "enabledOffline",
                    "sounds"
                ]
            },
            "notifications_sound": {
                "title": "Notifications Sound",
                "type": "object",
                "properties": {
                    "enabled": {
                        "type": "boolean",
                        "example": true
                    },
                    "volume": {
                        "type": "number",
                        "minimum": 0,
                        "maximum": 100,
                        "example": 50
                    },
                    "name": {
                        "type": "string",
                        "example": "tuk-tuk.mp3"
                    }
                },
                "required": [
                    "enabled",
                    "volume",
                    "name"
                ]
            },
            "notifications_mobile": {
                "title": "Notifications Mobile",
                "type": "object",
                "properties": {
                    "events": {
                        "type": "object",
                        "properties": {
                            "incoming_visitor": {
                                "$ref": "#/components/schemas/notifications_mobile_event"
                            },
                            "incoming_message": {
                                "$ref": "#/components/schemas/notifications_mobile_event"
                            }
                        },
                        "required": [
                            "incoming_visitor",
                            "incoming_message"
                        ]
                    }
                },
                "required": [
                    "events"
                ]
            },
            "notifications_mobile_event": {
                "title": "Notifications Mobile Event",
                "type": "object",
                "properties": {
                    "enabled": {
                        "type": "boolean",
                        "example": true
                    },
                    "sound": {
                        "type": "object",
                        "properties": {
                            "enabled": {
                                "type": "boolean",
                                "example": true
                            },
                            "name": {
                                "type": "string",
                                "example": "default"
                            }
                        },
                        "required": [
                            "enabled",
                            "name"
                        ]
                    }
                },
                "required": [
                    "enabled",
                    "sound"
                ]
            },
            "officehours": {
                "title": "Office Hours",
                "type": "object",
                "properties": {
                    "isActive": {
                        "type": "boolean"
                    },
                    "config": {
                        "type": "object",
                        "properties": {
                            "sunday": {
                                "$ref": "#/components/schemas/officehours_day"
                            },
                            "monday": {
                                "$ref": "#/components/schemas/officehours_day"
                            },
                            "tuesday": {
                                "$ref": "#/components/schemas/officehours_day"
                            },
                            "wednesday": {
                                "$ref": "#/components/schemas/officehours_day"
                            },
                            "thursday": {
                                "$ref": "#/components/schemas/officehours_day"
                            },
                            "friday": {
                                "$ref": "#/components/schemas/officehours_day"
                            },
                            "saturday": {
                                "$ref": "#/components/schemas/officehours_day"
                            }
                        },
                        "required": [
                            "sunday",
                            "monday",
                            "tuesday",
                            "wednesday",
                            "thursday",
                            "friday",
                            "saturday"
                        ]
                    }
                },
                "required": [
                    "isActive",
                    "config"
                ]
            },
            "officehours_day": {
                "title": "Office Hours Day",
                "type": "object",
                "properties": {
                    "enabled": {
                        "type": "boolean"
                    },
                    "times": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/officehours_interval"
                        }
                    }
                },
                "required": [
                    "enabled",
                    "times"
                ]
            },
            "officehours_interval": {
                "title": "Office Hours Interval",
                "type": "object",
                "properties": {
                    "from": {
                        "type": "number",
                        "example": 950
                    },
                    "to": {
                        "type": "number",
                        "example": 1320
                    }
                },
                "required": [
                    "from",
                    "to"
                ]
            },
            "path": {
                "title": "Path",
                "type": "object",
                "properties": {
                    "url": {
                        "type": "string",
                        "example": "https://www.smartsupp.com/widget/5bd233242e46fb3a030209ad9d771f446d10e801"
                    },
                    "title": {
                        "type": "string",
                        "example": "Smartsupp Chat"
                    },
                    "createdAt": {
                        "type": "string",
                        "format": "date-time"
                    }
                },
                "required": [
                    "url",
                    "title",
                    "createdAt"
                ]
            },
            "product_new": {
                "title": "ProductNew",
                "type": "object",
                "properties": {
                    "title": {
                        "type": "string"
                    },
                    "content": {
                        "type": "string"
                    },
                    "publishedAt": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "isUnread": {
                        "type": "boolean"
                    }
                },
                "required": [
                    "title",
                    "content",
                    "publishedAt",
                    "isUnread"
                ]
            },
            "restriction": {
                "title": "Restriction",
                "type": "object",
                "properties": {
                    "id": {
                        "type": "number",
                        "example": 3443
                    },
                    "type": {
                        "$ref": "#/components/schemas/restriction_type_enum"
                    },
                    "value": {
                        "type": "string",
                        "example": "185.140.28.246"
                    }
                },
                "required": [
                    "id",
                    "type",
                    "value"
                ]
            },
            "shortcut": {
                "title": "Shortcut",
                "type": "object",
                "properties": {
                    "id": {
                        "type": "number",
                        "example": 567
                    },
                    "type": {
                        "$ref": "#/components/schemas/shortcut_type_enum"
                    },
                    "name": {
                        "type": "string",
                        "example": "wait"
                    },
                    "text": {
                        "type": "string",
                        "example": "I will look into it, give me a moment please"
                    }
                },
                "required": [
                    "id",
                    "type",
                    "name",
                    "text"
                ]
            },
            "timezone": {
                "title": "Timezone",
                "type": "object",
                "properties": {
                    "name": {
                        "type": "string",
                        "example": "Europe/Berlin"
                    },
                    "text": {
                        "type": "string",
                        "example": "UTC+01:00 Europe/Berlin"
                    },
                    "offset": {
                        "type": "number",
                        "example": 3600
                    },
                    "offsetText": {
                        "type": "string",
                        "example": "+01:00"
                    }
                },
                "required": [
                    "name",
                    "text",
                    "offset",
                    "offsetText"
                ]
            },
            "user": {
                "title": "User",
                "type": "object",
                "properties": {
                    "id": {
                        "type": "number",
                        "example": 478
                    },
                    "role": {
                        "$ref": "#/components/schemas/agent_role_enum"
                    },
                    "email": {
                        "type": "string",
                        "example": "tester@example.com"
                    },
                    "fullname": {
                        "type": "string",
                        "example": "Bernard"
                    },
                    "nickname": {
                        "type": "string",
                        "example": "Bernard"
                    },
                    "avatar": {
                        "type": "string",
                        "nullable": true,
                        "example": "https://files.smartsupp.com/files/agents/avatars/123-ndrur9bp3m.png"
                    },
                    "avatarUploadRequired": {
                        "type": "boolean"
                    },
                    "noPassword": {
                        "type": "boolean"
                    },
                    "description": {
                        "type": "string",
                        "nullable": true,
                        "example": "Shop Owner"
                    },
                    "status": {
                        "$ref": "#/components/schemas/agent_status_enum"
                    },
                    "active": {
                        "type": "boolean"
                    },
                    "wizard": {
                        "type": "object",
                        "additionalProperties": true,
                        "example": {
                            "guideEnabled": true,
                            "guideFinished": true,
                            "installSkipped": true
                        }
                    },
                    "boxes": {
                        "type": "object",
                        "additionalProperties": true,
                        "example": {
                            "groups": true,
                            "recordings": true,
                            "shortcuts": true,
                            "triggers": false
                        }
                    }
                },
                "required": [
                    "id",
                    "role",
                    "email",
                    "fullname",
                    "nickname",
                    "avatar",
                    "avatarUploadRequired",
                    "noPassword",
                    "description",
                    "status",
                    "active",
                    "wizard",
                    "boxes"
                ]
            },
            "visitor": {
                "title": "Visitor",
                "allOf": [
                    {
                        "$ref": "#/components/schemas/visitor_simple"
                    },
                    {
                        "type": "object",
                        "properties": {
                            "chatId": {
                                "type": "string",
                                "nullable": true,
                                "example": "cod1L4y1Gtxq"
                            },
                            "lang": {
                                "type": "string",
                                "example": "en"
                            },
                            "locIp": {
                                "type": "string",
                                "nullable": true,
                                "example": "127.0.0.1"
                            },
                            "locCity": {
                                "type": "string",
                                "nullable": true,
                                "example": "Brno"
                            },
                            "chatsCount": {
                                "type": "number",
                                "example": 0
                            },
                            "browser": {
                                "type": "string",
                                "nullable": true,
                                "example": "Chrome"
                            },
                            "browserVersion": {
                                "type": "string",
                                "nullable": true,
                                "example": "87.0.4280.88"
                            },
                            "platform": {
                                "type": "string",
                                "nullable": true,
                                "example": "Apple Mac"
                            },
                            "os": {
                                "type": "string",
                                "nullable": true,
                                "example": "OS X"
                            },
                            "userAgent": {
                                "type": "string",
                                "nullable": true,
                                "example": "Mozilla/5.0 (Macintosh; Intel Mac OS X 11_1_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.88 Safari/537.36"
                            },
                            "paths": {
                                "type": "array",
                                "items": {
                                    "$ref": "#/components/schemas/path"
                                }
                            }
                        },
                        "required": [
                            "chatId",
                            "lang",
                            "locIp",
                            "locCity",
                            "chatsCount",
                            "browser",
                            "browserVersion",
                            "platform",
                            "os",
                            "userAgent",
                            "paths"
                        ]
                    }
                ]
            },
            "visitor_details": {
                "title": "Visitor Details",
                "type": "object",
                "properties": {
                    "connectedAt": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    }
                },
                "required": [
                    "connectedAt"
                ]
            },
            "visitor_simple": {
                "title": "Visitor Simple",
                "type": "object",
                "properties": {
                    "id": {
                        "type": "string",
                        "example": "viAm4tpZY1dil"
                    },
                    "avatar": {
                        "$ref": "#/components/schemas/contact_avatar"
                    },
                    "bannedAt": {
                        "type": "string",
                        "nullable": true,
                        "example": null
                    },
                    "chatsCount": {
                        "type": "number",
                        "example": 3
                    },
                    "connectedAt": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "contactId": {
                        "type": "string",
                        "nullable": true,
                        "example": "ctyQ9NSiH_rvN"
                    },
                    "createdAt": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "domain": {
                        "type": "string",
                        "nullable": true,
                        "example": "www.smartsupp.com"
                    },
                    "email": {
                        "type": "string",
                        "nullable": true,
                        "example": null
                    },
                    "group": {
                        "type": "string",
                        "example": "default"
                    },
                    "lastSeenAt": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "locCode": {
                        "type": "string",
                        "nullable": true,
                        "example": "cz"
                    },
                    "locCountry": {
                        "type": "string",
                        "nullable": true,
                        "example": "Czechia"
                    },
                    "name": {
                        "type": "string",
                        "nullable": true,
                        "example": null
                    },
                    "pageTitle": {
                        "type": "string",
                        "nullable": true,
                        "example": "Smartsupp Chat"
                    },
                    "pageUrl": {
                        "type": "string",
                        "nullable": true,
                        "example": "https://www.smartsupp.com/widget/58afdefc3cccff9b14507e9b9e26c26f3bef0748"
                    },
                    "referer": {
                        "type": "string",
                        "nullable": true,
                        "example": ""
                    },
                    "servedBy": {
                        "type": "array",
                        "items": {
                            "type": "string",
                            "example": "375221"
                        }
                    },
                    "status": {
                        "$ref": "#/components/schemas/visitor_status_enum"
                    },
                    "viewsCount": {
                        "type": "number",
                        "example": 1
                    },
                    "visitsCount": {
                        "type": "number",
                        "example": 2812
                    }
                },
                "required": [
                    "id",
                    "avatar",
                    "bannedAt",
                    "chatsCount",
                    "connectedAt",
                    "contactId",
                    "createdAt",
                    "domain",
                    "email",
                    "group",
                    "lastSeenAt",
                    "locCode",
                    "locCountry",
                    "name",
                    "pageTitle",
                    "pageUrl",
                    "referer",
                    "servedBy",
                    "status",
                    "viewsCount",
                    "visitsCount"
                ]
            },
            "widget_config": {
                "title": "Widget Config",
                "type": "object",
                "properties": {
                    "lang": {
                        "type": "string",
                        "example": "en"
                    },
                    "orientation": {
                        "$ref": "#/components/schemas/widget_orientation_enum"
                    },
                    "ratingEnabled": {
                        "type": "boolean"
                    },
                    "transcriptEnabled": {
                        "type": "boolean"
                    },
                    "hideWidget": {
                        "type": "boolean"
                    },
                    "hideOfflineChat": {
                        "type": "boolean"
                    },
                    "requireLogin": {
                        "type": "boolean"
                    },
                    "emailControl": {
                        "type": "boolean"
                    },
                    "nameControl": {
                        "type": "boolean"
                    },
                    "numberControl": {
                        "type": "boolean"
                    },
                    "privacyNoticeEnabled": {
                        "type": "boolean"
                    },
                    "privacyNoticeUrl": {
                        "type": "string"
                    },
                    "privacyNoticeCheckRequired": {
                        "type": "boolean"
                    },
                    "groupSelectEnabled": {
                        "type": "boolean"
                    },
                    "color": {
                        "type": "string",
                        "example": "#1233df"
                    },
                    "buttonStyle": {
                        "$ref": "#/components/schemas/widget_button_style_enum"
                    },
                    "internalAnalyticsEnabled": {
                        "type": "boolean"
                    },
                    "translates": {
                        "type": "object",
                        "additionalProperties": true,
                        "example": {
                            "en": {
                                "agentRating.all.placeholder": "Leave us feedback"
                            }
                        }
                    },
                    "features": {
                        "$ref": "#/components/schemas/widget_features"
                    },
                    "installCode": {
                        "type": "string"
                    }
                },
                "required": [
                    "lang",
                    "orientation",
                    "ratingEnabled",
                    "transcriptEnabled",
                    "hideWidget",
                    "hideOfflineChat",
                    "requireLogin",
                    "emailControl",
                    "nameControl",
                    "numberControl",
                    "privacyNoticeEnabled",
                    "privacyNoticeUrl",
                    "privacyNoticeCheckRequired",
                    "groupSelectEnabled",
                    "color",
                    "buttonStyle",
                    "internalAnalyticsEnabled",
                    "translates",
                    "features",
                    "installCode"
                ]
            },
            "widget_features": {
                "title": "Widget Features",
                "type": "object",
                "properties": {
                    "customize": {
                        "type": "boolean"
                    },
                    "rating": {
                        "type": "boolean"
                    },
                    "transcript": {
                        "type": "boolean"
                    },
                    "api": {
                        "type": "boolean"
                    },
                    "ga": {
                        "type": "boolean"
                    },
                    "groups": {
                        "type": "boolean"
                    }
                },
                "required": [
                    "customize",
                    "rating",
                    "transcript",
                    "api",
                    "ga",
                    "groups"
                ]
            },
            "widget_translates": {
                "title": "Widget Translates",
                "type": "object",
                "additionalProperties": true,
                "example": {
                    "agentRating.all.placeholder": "Leave us feedback"
                }
            },
            "widget_language": {
                "title": "Widget Language",
                "type": "object",
                "properties": {
                    "name": {
                        "type": "string",
                        "example": "en"
                    },
                    "priority": {
                        "type": "number",
                        "example": 1
                    }
                },
                "required": [
                    "name",
                    "priority"
                ]
            },
            "error_payload": {
                "title": "Typical Error Response",
                "type": "object",
                "properties": {
                    "code": {
                        "type": "string"
                    },
                    "message": {
                        "type": "string"
                    },
                    "errors": {
                        "type": "array",
                        "description": "List of error in case of bad_request errors.",
                        "items": {
                            "$ref": "#/components/schemas/error_detail"
                        }
                    }
                },
                "required": [
                    "code",
                    "message"
                ]
            },
            "error_detail": {
                "title": "Typical Error Detail",
                "type": "object",
                "properties": {
                    "path": {
                        "type": "string"
                    },
                    "code": {
                        "type": "string"
                    },
                    "message": {
                        "type": "string"
                    },
                    "location": {
                        "type": "string"
                    }
                },
                "required": [
                    "path",
                    "code",
                    "message",
                    "location"
                ]
            },
            "batch_delete_item": {
                "title": "Batch Delete Item",
                "type": "object",
                "properties": {
                    "id": {
                        "type": "number"
                    },
                    "status": {
                        "type": "number"
                    },
                    "error": {
                        "type": "object",
                        "properties": {
                            "code": {
                                "type": "string"
                            },
                            "message": {
                                "type": "string"
                            }
                        },
                        "required": [
                            "code",
                            "message"
                        ]
                    }
                },
                "required": [
                    "id",
                    "status"
                ]
            },
            "account_history_enum": {
                "title": "Account History Enum",
                "type": "string",
                "enum": [
                    "unlimited",
                    "1_years",
                    "3_months"
                ]
            },
            "agent_role_enum": {
                "title": "Agent Role Enum",
                "type": "string",
                "enum": [
                    "agent",
                    "admin",
                    "owner"
                ]
            },
            "agent_status_enum": {
                "title": "Agent Status Enum",
                "type": "string",
                "enum": [
                    "online",
                    "offline"
                ]
            },
            "attachment_type_enum": {
                "title": "Attachment Type Enum",
                "type": "string",
                "enum": [
                    "file",
                    "image",
                    "invalid"
                ]
            },
            "conversation_status_enum": {
                "title": "Conversation Status Enum",
                "type": "string",
                "enum": [
                    "pending",
                    "open",
                    "served",
                    "closed"
                ]
            },
            "message_sub_type_enum": {
                "title": "Message SubType Enum",
                "type": "string",
                "enum": [
                    "agent",
                    "contact",
                    "system",
                    "trigger",
                    "bot"
                ]
            },
            "message_type_enum": {
                "title": "Message Type Enum",
                "type": "string",
                "enum": [
                    "message",
                    "note",
                    "event"
                ]
            },
            "metric_name_enum": {
                "title": "Metric Name Enum",
                "type": "string",
                "enum": [
                    "response_time",
                    "first_response_time",
                    "time_to_close",
                    "time_to_close_sum",
                    "new_conversation",
                    "closed_conversation",
                    "conversation_ratings"
                ]
            },
            "restriction_type_enum": {
                "title": "Restriction Type Enum",
                "type": "string",
                "enum": [
                    "ip"
                ]
            },
            "shortcut_type_enum": {
                "title": "Shortcut Type Enum",
                "type": "string",
                "enum": [
                    "personal",
                    "team"
                ]
            },
            "visitor_status_enum": {
                "title": "Visitor Status Enum",
                "type": "string",
                "enum": [
                    "active",
                    "clicked",
                    "served",
                    "triggered",
                    "unserved"
                ]
            },
            "widget_button_style_enum": {
                "title": "Widget ButtonStyle Enum",
                "type": "string",
                "enum": [
                    "greeting",
                    "bubble"
                ]
            },
            "widget_orientation_enum": {
                "title": "Widget Orientation Enum",
                "type": "string",
                "enum": [
                    "right",
                    "left"
                ]
            },
            "request_consent_create": {
                "title": "Request Consent Create",
                "type": "object",
                "properties": {
                    "type": {
                        "type": "string"
                    },
                    "agreed": {
                        "type": "boolean"
                    }
                },
                "required": [
                    "type",
                    "agreed"
                ]
            },
            "response_ok": {
                "title": "Response Ok",
                "type": "object",
                "properties": {
                    "ok": {
                        "type": "boolean",
                        "example": true
                    }
                },
                "required": [
                    "ok"
                ]
            }
        },
        "responses": {
            "suc_ok": {
                "description": "OK response",
                "content": {
                    "application/json": {
                        "schema": {
                            "$ref": "#/components/schemas/response_ok"
                        },
                        "example": {
                            "ok": true
                        }
                    }
                }
            },
            "err_general": {
                "description": "General error response. See documentation for all possible codes and messages.",
                "content": {
                    "application/json": {
                        "schema": {
                            "$ref": "#/components/schemas/error_payload"
                        },
                        "examples": {
                            "error": {
                                "summary": "General Error",
                                "value": {
                                    "code": "<error_code>",
                                    "message": "<error_message>"
                                }
                            }
                        }
                    }
                }
            },
            "err_bad_request": {
                "description": "Bad request or invalid parameters",
                "content": {
                    "application/json": {
                        "schema": {
                            "$ref": "#/components/schemas/error_payload"
                        },
                        "example": {
                            "code": "bad_request",
                            "message": "Invalid parameters",
                            "errors": [
                                {
                                    "path": "type",
                                    "code": "enum.openapi.requestValidation",
                                    "message": "should be equal to one of the allowed values",
                                    "location": "body"
                                },
                                {
                                    "path": "content.data",
                                    "code": "required.openapi.requestValidation",
                                    "message": "should have required property 'data'",
                                    "location": "body"
                                }
                            ]
                        }
                    }
                }
            },
            "err_not_found": {
                "description": "Resource was not found",
                "content": {
                    "application/json": {
                        "schema": {
                            "$ref": "#/components/schemas/error_payload"
                        },
                        "example": {
                            "code": "not_found",
                            "message": "Resource not found"
                        }
                    }
                }
            },
            "err_unauthorized": {
                "description": "Unauthorized request",
                "content": {
                    "application/json": {
                        "schema": {
                            "$ref": "#/components/schemas/error_payload"
                        },
                        "example": {
                            "code": "invalid_code",
                            "message": "Value passed for code was invalid."
                        }
                    }
                }
            }
        },
        "examples": {}
    },
    "servers": [
        {
            "url": "http://app.smartsupp.loc/rest"
        }
    ],
    "security": [
        {
            "cookieAuth": []
        }
    ]
}
